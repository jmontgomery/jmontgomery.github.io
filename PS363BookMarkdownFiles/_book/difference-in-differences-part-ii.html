<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Quantitative Political Methods Coursebook</title>
  <meta name="description" content="Quantitative Political Methods Coursebook">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Quantitative Political Methods Coursebook" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Quantitative Political Methods Coursebook" />
  
  
  

<meta name="author" content="Jacob Montgomery">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="difference-in-differences-part-i.html">
<link rel="next" href="regression-discontinuity-designs-part-1.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Placeholder</a></li>
<li class="chapter" data-level="2" data-path="placeholder-1.html"><a href="placeholder-1.html"><i class="fa fa-check"></i><b>2</b> Placeholder</a></li>
<li class="chapter" data-level="3" data-path="placeholder-2.html"><a href="placeholder-2.html"><i class="fa fa-check"></i><b>3</b> Placeholder</a></li>
<li class="chapter" data-level="4" data-path="placeholder-3.html"><a href="placeholder-3.html"><i class="fa fa-check"></i><b>4</b> Placeholder</a></li>
<li class="chapter" data-level="5" data-path="random-samples.html"><a href="random-samples.html"><i class="fa fa-check"></i><b>5</b> Random Samples</a></li>
<li class="chapter" data-level="6" data-path="installing-r-and-r-studio.html"><a href="installing-r-and-r-studio.html"><i class="fa fa-check"></i><b>6</b> Installing R and R Studio</a></li>
<li class="chapter" data-level="7" data-path="a-brief-introduction-to-r.html"><a href="a-brief-introduction-to-r.html"><i class="fa fa-check"></i><b>7</b> A Brief Introduction to R</a></li>
<li class="chapter" data-level="8" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html"><i class="fa fa-check"></i><b>8</b> Importing data into R</a></li>
<li class="chapter" data-level="9" data-path="visualizing-data-in-r.html"><a href="visualizing-data-in-r.html"><i class="fa fa-check"></i><b>9</b> Visualizing Data in R</a></li>
<li class="chapter" data-level="10" data-path="measures-of-position.html"><a href="measures-of-position.html"><i class="fa fa-check"></i><b>10</b> Measures of Position</a></li>
<li class="chapter" data-level="11" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html"><i class="fa fa-check"></i><b>11</b> Measures of Central Tendency</a></li>
<li class="chapter" data-level="12" data-path="measures-of-dispersion.html"><a href="measures-of-dispersion.html"><i class="fa fa-check"></i><b>12</b> Measures of Dispersion</a></li>
<li class="chapter" data-level="13" data-path="frequency-and-probability-distributions.html"><a href="frequency-and-probability-distributions.html"><i class="fa fa-check"></i><b>13</b> Frequency and Probability Distributions</a></li>
<li class="chapter" data-level="14" data-path="some-basic-plotting-in-r.html"><a href="some-basic-plotting-in-r.html"><i class="fa fa-check"></i><b>14</b> Some basic plotting in R</a></li>
<li class="chapter" data-level="15" data-path="sampling-distributions-pt-1.html"><a href="sampling-distributions-pt-1.html"><i class="fa fa-check"></i><b>15</b> Sampling Distributions, Pt. 1</a></li>
<li class="chapter" data-level="16" data-path="sampling-distributions-pt-2.html"><a href="sampling-distributions-pt-2.html"><i class="fa fa-check"></i><b>16</b> Sampling Distributions, Pt. 2</a></li>
<li class="chapter" data-level="17" data-path="working-with-the-normal-distribution.html"><a href="working-with-the-normal-distribution.html"><i class="fa fa-check"></i><b>17</b> Working with the Normal Distribution</a></li>
<li class="chapter" data-level="18" data-path="the-binomial-distribution.html"><a href="the-binomial-distribution.html"><i class="fa fa-check"></i><b>18</b> The Binomial Distribution</a></li>
<li class="chapter" data-level="19" data-path="working-with-the-t-distribution.html"><a href="working-with-the-t-distribution.html"><i class="fa fa-check"></i><b>19</b> Working with the T-distribution</a></li>
<li class="chapter" data-level="20" data-path="placeholder-4.html"><a href="placeholder-4.html"><i class="fa fa-check"></i><b>20</b> Placeholder</a></li>
<li class="chapter" data-level="21" data-path="team-assignment.html"><a href="team-assignment.html"><i class="fa fa-check"></i><b>21</b> Team Assignment</a></li>
<li class="chapter" data-level="22" data-path="constructing-confidence-intervals-using-proportions.html"><a href="constructing-confidence-intervals-using-proportions.html"><i class="fa fa-check"></i><b>22</b> Constructing Confidence Intervals Using Proportions</a></li>
<li class="chapter" data-level="23" data-path="large-n-hypothesis-testing-for-proportions.html"><a href="large-n-hypothesis-testing-for-proportions.html"><i class="fa fa-check"></i><b>23</b> Large-n hypothesis testing for proportions</a></li>
<li class="chapter" data-level="24" data-path="type-i-and-type-ii-errors.html"><a href="type-i-and-type-ii-errors.html"><i class="fa fa-check"></i><b>24</b> Type I and Type II Errors</a></li>
<li class="chapter" data-level="25" data-path="hypothesis-testing-for-small-sample-quantitative-data.html"><a href="hypothesis-testing-for-small-sample-quantitative-data.html"><i class="fa fa-check"></i><b>25</b> Hypothesis Testing for Small Sample Quantitative Data</a></li>
<li class="chapter" data-level="26" data-path="confidence-intervals-in-r.html"><a href="confidence-intervals-in-r.html"><i class="fa fa-check"></i><b>26</b> Confidence intervals in R</a></li>
<li class="chapter" data-level="27" data-path="poster-projects.html"><a href="poster-projects.html"><i class="fa fa-check"></i><b>27</b> Poster Projects</a></li>
<li class="chapter" data-level="28" data-path="causation-and-average-treatment-effects.html"><a href="causation-and-average-treatment-effects.html"><i class="fa fa-check"></i><b>28</b> Causation and Average Treatment Effects</a></li>
<li class="chapter" data-level="29" data-path="finding-average-treatment-effects-in-r.html"><a href="finding-average-treatment-effects-in-r.html"><i class="fa fa-check"></i><b>29</b> Finding average treatment effects in R</a></li>
<li class="chapter" data-level="30" data-path="comparing-means.html"><a href="comparing-means.html"><i class="fa fa-check"></i><b>30</b> Comparing Means</a></li>
<li class="chapter" data-level="31" data-path="t-tests-in-r.html"><a href="t-tests-in-r.html"><i class="fa fa-check"></i><b>31</b> T-tests in R</a></li>
<li class="chapter" data-level="32" data-path="chi-squared-test-of-independence.html"><a href="chi-squared-test-of-independence.html"><i class="fa fa-check"></i><b>32</b> Chi Squared Test of Independence</a></li>
<li class="chapter" data-level="33" data-path="the-chi-square-test-in-r.html"><a href="the-chi-square-test-in-r.html"><i class="fa fa-check"></i><b>33</b> The Chi Square Test in R</a></li>
<li class="chapter" data-level="34" data-path="contingency-tables-and-bivariate-data.html"><a href="contingency-tables-and-bivariate-data.html"><i class="fa fa-check"></i><b>34</b> Contingency tables and bivariate data</a></li>
<li class="chapter" data-level="35" data-path="bivariate-regression.html"><a href="bivariate-regression.html"><i class="fa fa-check"></i><b>35</b> Bivariate Regression</a></li>
<li class="chapter" data-level="36" data-path="marginal-and-conditional-standard-deviation.html"><a href="marginal-and-conditional-standard-deviation.html"><i class="fa fa-check"></i><b>36</b> Marginal and Conditional Standard Deviation</a></li>
<li class="chapter" data-level="37" data-path="inference-for-regression.html"><a href="inference-for-regression.html"><i class="fa fa-check"></i><b>37</b> Inference for Regression</a></li>
<li class="chapter" data-level="38" data-path="basic-linear-regression-in-r.html"><a href="basic-linear-regression-in-r.html"><i class="fa fa-check"></i><b>38</b> Basic Linear Regression in R</a></li>
<li class="chapter" data-level="39" data-path="how-to-plot-residuals-in-r.html"><a href="how-to-plot-residuals-in-r.html"><i class="fa fa-check"></i><b>39</b> How to Plot Residuals in R</a></li>
<li class="chapter" data-level="40" data-path="regression-example.html"><a href="regression-example.html"><i class="fa fa-check"></i><b>40</b> Regression example</a></li>
<li class="chapter" data-level="41" data-path="multivariate-regression.html"><a href="multivariate-regression.html"><i class="fa fa-check"></i><b>41</b> Multivariate Regression</a></li>
<li class="chapter" data-level="42" data-path="multivariate-regression-example-teaching-about-evolution.html"><a href="multivariate-regression-example-teaching-about-evolution.html"><i class="fa fa-check"></i><b>42</b> Multivariate regression example: Teaching about evolution</a></li>
<li class="chapter" data-level="43" data-path="difference-in-differences-part-i.html"><a href="difference-in-differences-part-i.html"><i class="fa fa-check"></i><b>43</b> Difference-in-Differences, Part I</a></li>
<li class="chapter" data-level="44" data-path="difference-in-differences-part-ii.html"><a href="difference-in-differences-part-ii.html"><i class="fa fa-check"></i><b>44</b> Difference-in-Differences, Part II</a><ul>
<li class="chapter" data-level="44.1" data-path="difference-in-differences-part-ii.html"><a href="difference-in-differences-part-ii.html#learning-objectives"><i class="fa fa-check"></i><b>44.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="44.2" data-path="difference-in-differences-part-ii.html"><a href="difference-in-differences-part-ii.html#one-real-world-example"><i class="fa fa-check"></i><b>44.2</b> One real-world example</a></li>
<li class="chapter" data-level="44.3" data-path="difference-in-differences-part-ii.html"><a href="difference-in-differences-part-ii.html#executing-difference-in-differences-with-aggregate-level-data"><i class="fa fa-check"></i><b>44.3</b> Executing difference-in-differences with aggregate-level data</a></li>
<li class="chapter" data-level="44.4" data-path="difference-in-differences-part-ii.html"><a href="difference-in-differences-part-ii.html#executing-difference-in-differences-with-individual-level-data"><i class="fa fa-check"></i><b>44.4</b> Executing difference-in-differences with individual-level data</a></li>
</ul></li>
<li class="chapter" data-level="45" data-path="regression-discontinuity-designs-part-1.html"><a href="regression-discontinuity-designs-part-1.html"><i class="fa fa-check"></i><b>45</b> Regression discontinuity designs, Part 1</a></li>
<li class="chapter" data-level="46" data-path="regression-discontinuity-designs-part-ii.html"><a href="regression-discontinuity-designs-part-ii.html"><i class="fa fa-check"></i><b>46</b> Regression discontinuity designs, Part II</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quantitative Political Methods Coursebook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="difference-in-differences-part-ii" class="section level1">
<h1><span class="header-section-number">44</span> Difference-in-Differences, Part II</h1>
<div id="learning-objectives" class="section level2">
<h2><span class="header-section-number">44.1</span> Learning Objectives</h2>
<ol style="list-style-type: decimal">
<li>Consider a real-world phenomena to which diff-in-diff can be applied</li>
<li>Execute diff-in-diff with aggregate-level data</li>
<li>Execute diff-in-diff with individual-level data</li>
</ol>
</div>
<div id="one-real-world-example" class="section level2">
<h2><span class="header-section-number">44.2</span> One real-world example</h2>
<p>A series of train bombings in Madrid on March 11, 2004 left 191 people dead and 1,500 injured. In the Spanish congressional elections which took place three days later, the Socialist party defeated the Conservative party. Did the terrorist attack increase the Socialist party’s vote share? How can we go about making such a causal claim?</p>
<p>As it turns out, real-world processes created conditions which were conducive to a difference-in-differences design, as identified by Jose Montalvo (<a href="http://84.89.132.1/~montalvo/wp/restat2011.pdf" class="uri">http://84.89.132.1/~montalvo/wp/restat2011.pdf</a>). A portion of voters for the March 14th elections lived outside of Spain, and were able to cast their absentee ballots in advance of the election – and in many cases, prior to the March 11th bombings. Spanish residents, on the other hand, all voted on election day, after the bombings.</p>
<p>Spanish non-resident voters (voters living abroad) are most certainly not identical to Spanish resident voters across all covariates that might affect which party they support. One could speculate that they’re richer (high-paid executives working for multinational corporations); younger (students attending college abroad); or generally more liberal in their worldview.</p>
<p>But the difference-in-difference strategy does not rely on the two groups being identical – only on their being <em>consistently different.</em></p>
<p>The counterfactual claim of similarity-in-differences is as follows: <em>in the absence of the intervening terrorist attack, the difference between resident and non-resident support for the Conservative party would have been the same in the 2004 election as it was for the previous election</em>. While this assumption cannot be tested, Montalvo provides a pretty compelling case for why we should accept it. The graph below shows resident and non-resident vote share over time.</p>
<div class="figure">
<img src="13.png" />

</div>
<p>In the years leading up to 2004, resident and non-resident vote shares differed in a remarkably consistent way. But in 2004, when all of the resident voters received the treatment (i.e. the information of the bombings), and only a portion of the non-resident voters did, the parallel movement of the trend lines breaks.</p>
</div>
<div id="executing-difference-in-differences-with-aggregate-level-data" class="section level2">
<h2><span class="header-section-number">44.3</span> Executing difference-in-differences with aggregate-level data</h2>
<p>The figure above shows aggregate-level data – the total vote share for the two populations at different points in time. To execute a difference-in-differences estimation of the effect of the bombings on vote share, we follow the steps outlined on the previous page:</p>
<ul>
<li><p>The resident voters are our “treatment” group (Tr) The non-resident voters are our “control” group (Cr).</p></li>
<li><p>The 2000 election will be the pre-treatment period, and the 2004 election will be the post-treatment period.</p></li>
<li><p>Approximations of Tr-pre, Cr-pre, Tr-post, and Cr-post are as follows:</p></li>
</ul>
<table>
<thead>
<tr class="header">
<th>Conservative Party Vote %</th>
<th>Treatment(Residents)</th>
<th>Control (Non-residents)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Pre-treatment (2000)</td>
<td>60</td>
<td>49</td>
</tr>
<tr class="even">
<td>Post-treatment (2004)</td>
<td>51</td>
<td>51</td>
</tr>
</tbody>
</table>
<ul>
<li><p>D1 = Tr-pre minus Cr-pre = 60-49 = 11</p></li>
<li><p>D2 = Tr-post minus Cr-post = 51-51 = 0</p></li>
<li><p>D2 minus D1 = 0-11 = -11 = DD, <strong>the difference-in-differences</strong></p></li>
</ul>
<p>The effect of the treatment (information of the bombings) is estimated to be -11, or a decrease of 11% in the Conservative party’s vote share.</p>
<p><em>Note: you can calculate DD as described above, DD = [ (Tr-post minus Cr-post) minus (Tr-pre minus Cr-pre) ], or alternatively as DD = [ (Tr-post minus Tr-pre) minus (Cr-post minus Cr-pre) ]. The two values are algebraically equivalent.</em></p>
</div>
<div id="executing-difference-in-differences-with-individual-level-data" class="section level2">
<h2><span class="header-section-number">44.4</span> Executing difference-in-differences with individual-level data</h2>
<p>What if we had data from individual observations as opposed to the populations in aggregate (e.g., 500 respondents from telephone surveys on election day in 2000 and 2004)?</p>
<table style="width:14%;">
<colgroup>
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
</colgroup>
<thead>
<tr class="header">
<th>Respndent ID#</th>
<th>Voted Conservative (Y)</th>
<th>Treatment group (X1)</th>
<th>Post-treatment (X2)</th>
<th>Treatment AND Post (X1 x X2)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1001</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>1002</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>1003</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>1004</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>1005</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td>1006</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>1007</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td>1008</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>The first column is just an identifier for each respondent. The outcome (Y) variable, is a dummy indicating whether or not each respondent voted for the Conservative party. The treatment group variable (X1) is a dummy indicating whether the respondent was in the treatment (resident) group. The post-treatment variable is a dummy variable that is equal to zero whenthe observation is from the 2000 (pre-) election and equal to one when the observation is from the 2004 (post-treatment) election. The last variable, Treatment AND Post, is an interaction term, calculated by multiplying the treatment group dummy times the post-treatment dummy.</p>
<p>The diff-in-diff estimation can then be accomplished with regression:</p>
<p><span class="math display">\[Y = \beta_0 + \beta_1X_1 + \beta_2X_2 + \beta_3(X_1 \times X_2) + \epsilon,\]</span></p>
<p>where <span class="math inline">\(\beta_1\)</span> captures any pre-treatment differences between the treatment and control groups, <span class="math inline">\(\beta_2\)</span> captures any differences that existed between the control group and the treatment group before the study began, and <span class="math inline">\(\beta_3\)</span> captures the effect of treatment on the treated groups.</p>
<p>Executing difference-in-differences, having individual-level data offers a couple distinct advantages over aggregate data. First, it gives us a better understanding of the pre-treatment differences between treatment and control groups. It also provides standard errors on all of the coefficients, allowing us to determine the statistical significance of any effect we find within a standard regression context. Finally, it enables us to include other control variables into the regression equation (such as age or income, for the above example), so we can better isolate the causal effect of the treatment.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="difference-in-differences-part-i.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="regression-discontinuity-designs-part-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
