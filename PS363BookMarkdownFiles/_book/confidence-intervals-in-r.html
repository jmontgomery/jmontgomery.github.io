<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Quantitative Political Methods Coursebook</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="Quantitative Political Methods Coursebook">
  <meta name="generator" content="bookdown 0.3 and GitBook 2.6.7">

  <meta property="og:title" content="Quantitative Political Methods Coursebook" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Quantitative Political Methods Coursebook" />
  
  
  

<meta name="author" content="Jacob Montgomery">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="hypothesis-testing-for-small-sample-quantitative-data.html">


<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Placeholder</a></li>
<li class="chapter" data-level="2" data-path="placeholder-1.html"><a href="placeholder-1.html"><i class="fa fa-check"></i><b>2</b> Placeholder</a></li>
<li class="chapter" data-level="3" data-path="placeholder-2.html"><a href="placeholder-2.html"><i class="fa fa-check"></i><b>3</b> Placeholder</a></li>
<li class="chapter" data-level="4" data-path="placeholder-3.html"><a href="placeholder-3.html"><i class="fa fa-check"></i><b>4</b> Placeholder</a></li>
<li class="chapter" data-level="5" data-path="random-samples.html"><a href="random-samples.html"><i class="fa fa-check"></i><b>5</b> Random Samples</a></li>
<li class="chapter" data-level="6" data-path="installing-r-and-r-studio.html"><a href="installing-r-and-r-studio.html"><i class="fa fa-check"></i><b>6</b> Installing R and R Studio</a></li>
<li class="chapter" data-level="7" data-path="a-brief-introduction-to-r.html"><a href="a-brief-introduction-to-r.html"><i class="fa fa-check"></i><b>7</b> A Brief Introduction to R</a></li>
<li class="chapter" data-level="8" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html"><i class="fa fa-check"></i><b>8</b> Importing data into R</a></li>
<li class="chapter" data-level="9" data-path="visualizing-data-in-r.html"><a href="visualizing-data-in-r.html"><i class="fa fa-check"></i><b>9</b> Visualizing Data in R</a></li>
<li class="chapter" data-level="10" data-path="measures-of-position.html"><a href="measures-of-position.html"><i class="fa fa-check"></i><b>10</b> Measures of Position</a></li>
<li class="chapter" data-level="11" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html"><i class="fa fa-check"></i><b>11</b> Measures of Central Tendency</a></li>
<li class="chapter" data-level="12" data-path="measures-of-dispersion.html"><a href="measures-of-dispersion.html"><i class="fa fa-check"></i><b>12</b> Measures of Dispersion</a></li>
<li class="chapter" data-level="13" data-path="frequency-and-probability-distributions.html"><a href="frequency-and-probability-distributions.html"><i class="fa fa-check"></i><b>13</b> Frequency and Probability Distributions</a></li>
<li class="chapter" data-level="14" data-path="some-basic-plotting-in-r.html"><a href="some-basic-plotting-in-r.html"><i class="fa fa-check"></i><b>14</b> Some basic plotting in R</a></li>
<li class="chapter" data-level="15" data-path="sampling-distributions-pt-1.html"><a href="sampling-distributions-pt-1.html"><i class="fa fa-check"></i><b>15</b> Sampling Distributions, Pt. 1</a></li>
<li class="chapter" data-level="16" data-path="sampling-distributions-pt-2.html"><a href="sampling-distributions-pt-2.html"><i class="fa fa-check"></i><b>16</b> Sampling Distributions, Pt. 2</a></li>
<li class="chapter" data-level="17" data-path="working-with-the-normal-distribution.html"><a href="working-with-the-normal-distribution.html"><i class="fa fa-check"></i><b>17</b> Working with the Normal Distribution</a></li>
<li class="chapter" data-level="18" data-path="the-binomial-distribution.html"><a href="the-binomial-distribution.html"><i class="fa fa-check"></i><b>18</b> The Binomial Distribution</a></li>
<li class="chapter" data-level="19" data-path="working-with-the-t-distribution.html"><a href="working-with-the-t-distribution.html"><i class="fa fa-check"></i><b>19</b> Working with the T-distribution</a></li>
<li class="chapter" data-level="20" data-path="placeholder-4.html"><a href="placeholder-4.html"><i class="fa fa-check"></i><b>20</b> Placeholder</a></li>
<li class="chapter" data-level="21" data-path="team-assignment.html"><a href="team-assignment.html"><i class="fa fa-check"></i><b>21</b> Team Assignment</a></li>
<li class="chapter" data-level="22" data-path="constructing-confidence-intervals-using-proportions.html"><a href="constructing-confidence-intervals-using-proportions.html"><i class="fa fa-check"></i><b>22</b> Constructing Confidence Intervals Using Proportions</a></li>
<li class="chapter" data-level="23" data-path="large-n-hypothesis-testing-for-proportions.html"><a href="large-n-hypothesis-testing-for-proportions.html"><i class="fa fa-check"></i><b>23</b> Large-n hypothesis testing for proportions</a></li>
<li class="chapter" data-level="24" data-path="type-i-and-type-ii-errors.html"><a href="type-i-and-type-ii-errors.html"><i class="fa fa-check"></i><b>24</b> Type I and Type II Errors</a></li>
<li class="chapter" data-level="25" data-path="hypothesis-testing-for-small-sample-quantitative-data.html"><a href="hypothesis-testing-for-small-sample-quantitative-data.html"><i class="fa fa-check"></i><b>25</b> Hypothesis Testing for Small Sample Quantitative Data</a></li>
<li class="chapter" data-level="26" data-path="confidence-intervals-in-r.html"><a href="confidence-intervals-in-r.html"><i class="fa fa-check"></i><b>26</b> Confidence intervals in R</a><ul>
<li class="chapter" data-level="26.1" data-path="confidence-intervals-in-r.html"><a href="confidence-intervals-in-r.html#learning-goals"><i class="fa fa-check"></i><b>26.1</b> Learning Goals</a></li>
<li class="chapter" data-level="26.2" data-path="confidence-intervals-in-r.html"><a href="confidence-intervals-in-r.html#example-graphs-and-r-code"><i class="fa fa-check"></i><b>26.2</b> Example Graphs and R Code:</a></li>
<li class="chapter" data-level="26.3" data-path="confidence-intervals-in-r.html"><a href="confidence-intervals-in-r.html#what-is-a-confidence-interval"><i class="fa fa-check"></i><b>26.3</b> What is a Confidence Interval?</a></li>
<li class="chapter" data-level="26.4" data-path="confidence-intervals-in-r.html"><a href="confidence-intervals-in-r.html#confidence-intervals-for-the-mean-of-populations"><i class="fa fa-check"></i><b>26.4</b> Confidence Intervals for the Mean of Populations</a></li>
<li class="chapter" data-level="26.5" data-path="confidence-intervals-in-r.html"><a href="confidence-intervals-in-r.html#in-r"><i class="fa fa-check"></i><b>26.5</b> In R:</a><ul>
<li class="chapter" data-level="26.5.1" data-path="confidence-intervals-in-r.html"><a href="confidence-intervals-in-r.html#numerical-summaries"><i class="fa fa-check"></i><b>26.5.1</b> Numerical Summaries:</a></li>
<li class="chapter" data-level="26.5.2" data-path="confidence-intervals-in-r.html"><a href="confidence-intervals-in-r.html#normal-quantiles"><i class="fa fa-check"></i><b>26.5.2</b> Normal Quantiles</a></li>
<li class="chapter" data-level="26.5.3" data-path="confidence-intervals-in-r.html"><a href="confidence-intervals-in-r.html#code"><i class="fa fa-check"></i><b>26.5.3</b> Code</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quantitative Political Methods Coursebook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="confidence-intervals-in-r" class="section level1">
<h1><span class="header-section-number">26</span> Confidence intervals in R</h1>
<div id="learning-goals" class="section level2">
<h2><span class="header-section-number">26.1</span> Learning Goals</h2>
<ul>
<li><p>Plotting the t distribution, with different degrees of freedom</p></li>
<li><p>Building confidence intervals (CIs)</p></li>
</ul>
</div>
<div id="example-graphs-and-r-code" class="section level2">
<h2><span class="header-section-number">26.2</span> Example Graphs and R Code:</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))
x.numbers &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from=</span>-<span class="fl">6.869</span>, <span class="dt">to=</span><span class="fl">6.869</span>, <span class="dt">length.out=</span><span class="dv">100</span>)
<span class="kw">plot</span>(<span class="dt">x=</span>x.numbers, <span class="dt">y=</span><span class="kw">dt</span>(x.numbers, <span class="dt">df=</span><span class="dv">2</span>), <span class="dt">xlab=</span><span class="st">&quot;x&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Density&quot;</span>,
     <span class="dt">main=</span><span class="kw">paste</span>(<span class="st">&quot;t Distribution:  DOF=2&quot;</span>),
     <span class="dt">type=</span><span class="st">&quot;l&quot;</span>,<span class="dt">col=</span><span class="st">&quot;green&quot;</span>,<span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="fl">0.5</span>))
<span class="kw">plot</span>(<span class="dt">x=</span>x.numbers, <span class="dt">y=</span><span class="kw">dt</span>(x.numbers,<span class="dt">df=</span><span class="dv">10</span>), <span class="dt">xlab=</span><span class="st">&quot;x&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Density&quot;</span>,
     <span class="dt">main=</span><span class="kw">paste</span>(<span class="st">&quot;t Distribution:  DOF=10&quot;</span>),
     <span class="dt">type=</span><span class="st">&quot;l&quot;</span>,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>,<span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="fl">0.5</span>))
<span class="kw">plot</span>(<span class="dt">x=</span>x.numbers, <span class="dt">y=</span><span class="kw">dt</span>(x.numbers,<span class="dt">df=</span><span class="dv">30</span>), <span class="dt">xlab=</span><span class="st">&quot;x&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Density&quot;</span>,
     <span class="dt">main=</span><span class="kw">paste</span>(<span class="st">&quot;t Distribution:  DOF=30&quot;</span>),
     <span class="dt">type=</span><span class="st">&quot;l&quot;</span>,<span class="dt">col=</span><span class="st">&quot;blue&quot;</span>,<span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="fl">0.5</span>))</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
</div>
<div id="what-is-a-confidence-interval" class="section level2">
<h2><span class="header-section-number">26.3</span> What is a Confidence Interval?</h2>
<ul>
<li><p>Interval estimate of a population parameter</p></li>
<li><p>Takes into account the uncertainty</p></li>
<li><p>Depends on the data and confidence level</p></li>
<li><p>Confidence level: If confidence intervals are constructed across manyseparate data analyses, the proportion of such intervals that contain the true value of the parameter will match the confidence level. For exampl, if we had a 90% confidence interval, we would expect 90% of confidence intervals we construct to include the true parameter <span class="math inline">\(\mu\)</span>.</p></li>
</ul>
<center>
<p><strong>Example </strong></p>
<img src="19.png" width="400px" />
</center>
<p>This is is 30 samples (n=150) from a normal population (<span class="math inline">\(\mu=0\)</span>) and the resulting 90% confidence interval.</p>
<p>Out of the 30 confidence intervals, only 27 of them (90%) include <span class="math inline">\(\mu\)</span>!</p>
<ul>
<li>What happens when we increase/decrease confidence level? The confidence intervals will get wider and more of them will include <span class="math inline">\(\mu\)</span>.</li>
</ul>
</div>
<div id="confidence-intervals-for-the-mean-of-populations" class="section level2">
<h2><span class="header-section-number">26.4</span> Confidence Intervals for the Mean of Populations</h2>
<ul>
<li><p>Obtain <span class="math inline">\(\bar{y}=\frac{\sum{y_i}}{n}\)</span></p></li>
<li><p>Obtain <span class="math inline">\(\sigma_{\bar{y}}=\frac{\sigma}{\sqrt{n}}\)</span> or <span class="math inline">\(\hat{\sigma}_{\bar{y}}=\frac{S}{\sqrt{n}}\)</span></p></li>
<li><p>Choose a confidence level</p></li>
<li><p>Obtain confidence coefficient: <span class="math inline">\(\frac{\text{confidence level}}{100}\)</span></p></li>
<li><p>Find the Z-score that corresponds to <span class="math inline">\(\frac{(\text{1-confidence coefficient})}{2}\)</span> [Normal Table or R]</p></li>
</ul>
<p>Confidence Interval for your chosen confidence level:</p>
<p>(<span class="math inline">\(\bar{y}-z*\sigma_{\bar{y}},\bar{y}+z*\sigma_{\bar{y}}\)</span>)</p>
</div>
<div id="in-r" class="section level2">
<h2><span class="header-section-number">26.5</span> In R:</h2>
<div id="numerical-summaries" class="section level3">
<h3><span class="header-section-number">26.5.1</span> Numerical Summaries:</h3>
<ul>
<li>Get the mean, standard deviation and number of observations of thevariable you are interested in</li>
</ul>
</div>
<div id="normal-quantiles" class="section level3">
<h3><span class="header-section-number">26.5.2</span> Normal Quantiles</h3>
<ul>
<li>The <code>qnorm()</code> gives you the required z-score.</li>
</ul>
</div>
<div id="code" class="section level3">
<h3><span class="header-section-number">26.5.3</span> Code</h3>
<p>Obtain the Z- score and save it in an object called z.score:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z.score =<span class="st"> </span><span class="kw">qnorm</span>(<span class="dv">1</span>-confidence coefficient/<span class="dv">2</span>)</code></pre></div>
<p>For example, for a 99% confidence interval, I could use</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z.score =<span class="st"> </span><span class="kw">qnorm</span>((<span class="dv">1</span><span class="fl">-.01</span>/<span class="dv">2</span>))
z.score</code></pre></div>
<pre><code>## [1] 2.575829</code></pre>
<p>Get mean, sd, and n of the variable and save in appropriately named objects:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mean.variable =<span class="st"> </span><span class="kw">mean</span>(nameofdataset$nameofvariable,<span class="dt">na.rm=</span>T)
sd.variable =<span class="st"> </span><span class="kw">sd</span>(nameofdataset$nameofvariable,<span class="dt">na.rm=</span>T)
n =<span class="st"> </span><span class="kw">length</span>(<span class="kw">na.omit</span>(nameofdataset$nameofvariable))</code></pre></div>
<p>Remember that R stores missing data as <code>NA</code>. So the <code>na.omit()</code> removes missing data from the vector. And the <code>na.rm=T</code> tells R to ignore missing data when calculating the standard deviation or the mean.</p>
<p>Compute lower bound:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mean.variable -<span class="st"> </span>z.score*sd.variable/<span class="kw">sqrt</span>(n)</code></pre></div>
<p>Compute upper bound:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mean.variable+<span class="st"> </span>z.score*sd.variable/<span class="kw">sqrt</span>(n)</code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="hypothesis-testing-for-small-sample-quantitative-data.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>


<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
