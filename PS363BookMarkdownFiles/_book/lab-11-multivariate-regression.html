<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Quantitative Political Methods Coursebook</title>
  <meta name="description" content="Quantitative Political Methods Coursebook">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Quantitative Political Methods Coursebook" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Quantitative Political Methods Coursebook" />
  
  
  

<meta name="author" content="Jacob Montgomery">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="regression-example.html">
<link rel="next" href="lab-11-handout-answer-key-quantitative-political-methodology.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Placeholder</a></li>
<li class="chapter" data-level="2" data-path="placeholder-1.html"><a href="placeholder-1.html"><i class="fa fa-check"></i><b>2</b> Placeholder</a></li>
<li class="chapter" data-level="3" data-path="placeholder-2.html"><a href="placeholder-2.html"><i class="fa fa-check"></i><b>3</b> Placeholder</a></li>
<li class="chapter" data-level="4" data-path="placeholder-3.html"><a href="placeholder-3.html"><i class="fa fa-check"></i><b>4</b> Placeholder</a></li>
<li class="chapter" data-level="5" data-path="random-samples.html"><a href="random-samples.html"><i class="fa fa-check"></i><b>5</b> Random Samples</a></li>
<li class="chapter" data-level="6" data-path="installing-r-and-r-studio.html"><a href="installing-r-and-r-studio.html"><i class="fa fa-check"></i><b>6</b> Installing R and R Studio</a></li>
<li class="chapter" data-level="7" data-path="a-brief-introduction-to-r.html"><a href="a-brief-introduction-to-r.html"><i class="fa fa-check"></i><b>7</b> A Brief Introduction to R</a></li>
<li class="chapter" data-level="8" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html"><i class="fa fa-check"></i><b>8</b> Importing data into R</a></li>
<li class="chapter" data-level="9" data-path="visualizing-data-in-r.html"><a href="visualizing-data-in-r.html"><i class="fa fa-check"></i><b>9</b> Visualizing Data in R</a></li>
<li class="chapter" data-level="10" data-path="measures-of-position.html"><a href="measures-of-position.html"><i class="fa fa-check"></i><b>10</b> Measures of Position</a></li>
<li class="chapter" data-level="11" data-path="measures-of-central-tendency.html"><a href="measures-of-central-tendency.html"><i class="fa fa-check"></i><b>11</b> Measures of Central Tendency</a></li>
<li class="chapter" data-level="12" data-path="measures-of-dispersion.html"><a href="measures-of-dispersion.html"><i class="fa fa-check"></i><b>12</b> Measures of Dispersion</a></li>
<li class="chapter" data-level="13" data-path="frequency-and-probability-distributions.html"><a href="frequency-and-probability-distributions.html"><i class="fa fa-check"></i><b>13</b> Frequency and Probability Distributions</a></li>
<li class="chapter" data-level="14" data-path="some-basic-plotting-in-r.html"><a href="some-basic-plotting-in-r.html"><i class="fa fa-check"></i><b>14</b> Some basic plotting in R</a></li>
<li class="chapter" data-level="15" data-path="sampling-distributions-pt-1.html"><a href="sampling-distributions-pt-1.html"><i class="fa fa-check"></i><b>15</b> Sampling Distributions, Pt. 1</a></li>
<li class="chapter" data-level="16" data-path="sampling-distributions-pt-2.html"><a href="sampling-distributions-pt-2.html"><i class="fa fa-check"></i><b>16</b> Sampling Distributions, Pt. 2</a></li>
<li class="chapter" data-level="17" data-path="working-with-the-normal-distribution.html"><a href="working-with-the-normal-distribution.html"><i class="fa fa-check"></i><b>17</b> Working with the Normal Distribution</a></li>
<li class="chapter" data-level="18" data-path="the-binomial-distribution.html"><a href="the-binomial-distribution.html"><i class="fa fa-check"></i><b>18</b> The Binomial Distribution</a></li>
<li class="chapter" data-level="19" data-path="working-with-the-t-distribution.html"><a href="working-with-the-t-distribution.html"><i class="fa fa-check"></i><b>19</b> Working with the T-distribution</a></li>
<li class="chapter" data-level="20" data-path="placeholder-4.html"><a href="placeholder-4.html"><i class="fa fa-check"></i><b>20</b> Placeholder</a></li>
<li class="chapter" data-level="21" data-path="team-assignment.html"><a href="team-assignment.html"><i class="fa fa-check"></i><b>21</b> Team Assignment</a></li>
<li class="chapter" data-level="22" data-path="constructing-confidence-intervals-using-proportions.html"><a href="constructing-confidence-intervals-using-proportions.html"><i class="fa fa-check"></i><b>22</b> Constructing Confidence Intervals Using Proportions</a></li>
<li class="chapter" data-level="23" data-path="large-n-hypothesis-testing-for-proportions.html"><a href="large-n-hypothesis-testing-for-proportions.html"><i class="fa fa-check"></i><b>23</b> Large-n hypothesis testing for proportions</a></li>
<li class="chapter" data-level="24" data-path="type-i-and-type-ii-errors.html"><a href="type-i-and-type-ii-errors.html"><i class="fa fa-check"></i><b>24</b> Type I and Type II Errors</a></li>
<li class="chapter" data-level="25" data-path="hypothesis-testing-for-small-sample-quantitative-data.html"><a href="hypothesis-testing-for-small-sample-quantitative-data.html"><i class="fa fa-check"></i><b>25</b> Hypothesis Testing for Small Sample Quantitative Data</a></li>
<li class="chapter" data-level="26" data-path="confidence-intervals-in-r.html"><a href="confidence-intervals-in-r.html"><i class="fa fa-check"></i><b>26</b> Confidence intervals in R</a></li>
<li class="chapter" data-level="27" data-path="poster-projects.html"><a href="poster-projects.html"><i class="fa fa-check"></i><b>27</b> Poster Projects</a></li>
<li class="chapter" data-level="28" data-path="causation-and-average-treatment-effects.html"><a href="causation-and-average-treatment-effects.html"><i class="fa fa-check"></i><b>28</b> Causation and Average Treatment Effects</a></li>
<li class="chapter" data-level="29" data-path="finding-average-treatment-effects-in-r.html"><a href="finding-average-treatment-effects-in-r.html"><i class="fa fa-check"></i><b>29</b> Finding average treatment effects in R</a></li>
<li class="chapter" data-level="30" data-path="comparing-means.html"><a href="comparing-means.html"><i class="fa fa-check"></i><b>30</b> Comparing Means</a></li>
<li class="chapter" data-level="31" data-path="t-tests-in-r.html"><a href="t-tests-in-r.html"><i class="fa fa-check"></i><b>31</b> T-tests in R</a></li>
<li class="chapter" data-level="32" data-path="chi-squared-test-of-independence.html"><a href="chi-squared-test-of-independence.html"><i class="fa fa-check"></i><b>32</b> Chi Squared Test of Independence</a></li>
<li class="chapter" data-level="33" data-path="the-chi-square-test-in-r.html"><a href="the-chi-square-test-in-r.html"><i class="fa fa-check"></i><b>33</b> The Chi Square Test in R</a></li>
<li class="chapter" data-level="34" data-path="contingency-tables-and-bivariate-data.html"><a href="contingency-tables-and-bivariate-data.html"><i class="fa fa-check"></i><b>34</b> Contingency tables and bivariate data</a></li>
<li class="chapter" data-level="35" data-path="bivariate-regression.html"><a href="bivariate-regression.html"><i class="fa fa-check"></i><b>35</b> Bivariate Regression</a></li>
<li class="chapter" data-level="36" data-path="marginal-and-conditional-standard-deviation.html"><a href="marginal-and-conditional-standard-deviation.html"><i class="fa fa-check"></i><b>36</b> Marginal and Conditional Standard Deviation</a></li>
<li class="chapter" data-level="37" data-path="inference-for-regression.html"><a href="inference-for-regression.html"><i class="fa fa-check"></i><b>37</b> Inference for Regression</a></li>
<li class="chapter" data-level="38" data-path="basic-linear-regression-in-r.html"><a href="basic-linear-regression-in-r.html"><i class="fa fa-check"></i><b>38</b> Basic Linear Regression in R</a></li>
<li class="chapter" data-level="39" data-path="how-to-plot-residuals-in-r.html"><a href="how-to-plot-residuals-in-r.html"><i class="fa fa-check"></i><b>39</b> How to Plot Residuals in R</a></li>
<li class="chapter" data-level="40" data-path="regression-example.html"><a href="regression-example.html"><i class="fa fa-check"></i><b>40</b> Regression example</a></li>
<li class="chapter" data-level="41" data-path="lab-11-multivariate-regression.html"><a href="lab-11-multivariate-regression.html"><i class="fa fa-check"></i><b>41</b> Lab 11: Multivariate Regression</a><ul>
<li class="chapter" data-level="41.1" data-path="lab-11-multivariate-regression.html"><a href="lab-11-multivariate-regression.html#class-goals"><i class="fa fa-check"></i><b>41.1</b> Class Goals</a></li>
<li class="chapter" data-level="41.2" data-path="lab-11-multivariate-regression.html"><a href="lab-11-multivariate-regression.html#multivariate-regressions"><i class="fa fa-check"></i><b>41.2</b> Multivariate Regressions</a></li>
<li class="chapter" data-level="41.3" data-path="lab-11-multivariate-regression.html"><a href="lab-11-multivariate-regression.html#d-representation-of-the-data"><i class="fa fa-check"></i><b>41.3</b> 3D Representation of the Data</a></li>
<li class="chapter" data-level="41.4" data-path="lab-11-multivariate-regression.html"><a href="lab-11-multivariate-regression.html#interactions"><i class="fa fa-check"></i><b>41.4</b> Interactions</a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="lab-11-handout-answer-key-quantitative-political-methodology.html"><a href="lab-11-handout-answer-key-quantitative-political-methodology.html"><i class="fa fa-check"></i><b>42</b> Lab 11 Handout Answer Key: Quantitative Political Methodology</a></li>
<li class="chapter" data-level="43" data-path="difference-in-differences-part-i.html"><a href="difference-in-differences-part-i.html"><i class="fa fa-check"></i><b>43</b> Difference-in-Differences, Part I</a></li>
<li class="chapter" data-level="44" data-path="difference-in-differences-part-ii.html"><a href="difference-in-differences-part-ii.html"><i class="fa fa-check"></i><b>44</b> Difference-in-Differences, Part II</a></li>
<li class="chapter" data-level="45" data-path="regression-discontinuity-designs-part-1.html"><a href="regression-discontinuity-designs-part-1.html"><i class="fa fa-check"></i><b>45</b> Regression discontinuity designs, Part 1</a></li>
<li class="chapter" data-level="46" data-path="regression-discontinuity-designs-part-ii.html"><a href="regression-discontinuity-designs-part-ii.html"><i class="fa fa-check"></i><b>46</b> Regression discontinuity designs, Part II</a></li>
<li class="chapter" data-level="47" data-path="lab-10-linear-regressions-in-r.html"><a href="lab-10-linear-regressions-in-r.html"><i class="fa fa-check"></i><b>47</b> Lab 10: Linear Regressions in R</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quantitative Political Methods Coursebook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lab-11-multivariate-regression" class="section level1">
<h1><span class="header-section-number">41</span> Lab 11: Multivariate Regression</h1>
<p>Department of Political Science</p>
<p>Washington University in St. Louis</p>
<p>(date here)</p>
<div id="class-goals" class="section level2">
<h2><span class="header-section-number">41.1</span> Class Goals</h2>
<ul>
<li><p>Multivariate regression</p></li>
<li><p>3D representation of data</p></li>
<li><p>Interaction terms</p></li>
</ul>
</div>
<div id="multivariate-regressions" class="section level2">
<h2><span class="header-section-number">41.2</span> Multivariate Regressions</h2>
<p>What if we’re interested in modeling the relationship between two independent variables and a dependent variable? Linear regression can do that through use of matrices and the OLS equation. Fortunately, we have R to solve all the matrix algebra for us.</p>
<p>Multivariate Regression can be used to examine the joint relationship between any number of independent variables and a dependent variable. It is important to remember that all of the variables involved have to be continuous or dichotomous. However, also know that linear regression is quite robust to assumption violations. Thus, we can still get workable results if we violate this.</p>
<ul>
<li><p>Could we use a 5-point scale measuring ideology as our dependentvariable?</p></li>
<li><p>Could we use a 5-point scale measuring ideology as an independent variable?</p></li>
</ul>
<p>Generally, we can use this prediction equation:</p>
<p><span class="math display">\[\hat{y_i} = \beta_0 + \beta_1 x_{i1} + \beta_2 x_{i2} + \ldots + \beta_k x_{ik}\]</span></p>
<p>Linear model in R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">    <span class="kw">lm</span>(<span class="dt">formula =</span> y ~<span class="st"> </span>x<span class="fl">.1</span> +<span class="st"> </span>x<span class="fl">.2</span> +<span class="st"> </span>... +<span class="st"> </span>x.k, <span class="dt">data =</span> my.data)</code></pre></div>
<p>We can then apply it to the dataset “mtcars”:</p>
<p><span class="math display">\[MPG = \beta_0 + \beta_1 weight + \beta_2 displacement\]</span></p>
<p>Linear model in R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">    <span class="kw">data</span>(<span class="st">&quot;mtcars&quot;</span>)
    fit &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>wt +<span class="st"> </span>disp, <span class="dt">data =</span> mtcars)</code></pre></div>
<p><img src="/Users/Ian/Dropbox (IsD)/QPM/bookdown-minimal-master/bookdown-minimal-master/_bookdown_files/Lab_Files/34.png" width="400px" /></p>
</div>
<div id="d-representation-of-the-data" class="section level2">
<h2><span class="header-section-number">41.3</span> 3D Representation of the Data</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">pairs</span>(mtcars[,<span class="kw">c</span>(<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;wt&quot;</span>, <span class="st">&quot;disp&quot;</span>)])</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p><img src="/Users/Ian/Dropbox (IsD)/QPM/bookdown-minimal-master/bookdown-minimal-master/_bookdown_files/Lab_Files/35.png" width="400px" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(scatterplot3d)
<span class="kw">attach</span>(mtcars)
s3d &lt;-<span class="kw">scatterplot3d</span>(wt,disp,mpg, <span class="dt">pch=</span><span class="dv">16</span>, <span class="dt">highlight.3d=</span><span class="ot">TRUE</span>,<span class="dt">type=</span><span class="st">&quot;h&quot;</span>, <span class="dt">main=</span><span class="st">&quot;3D Scatterplot&quot;</span>)
fit &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>wt+disp)</code></pre></div>
<p><img src="/Users/Ian/Dropbox (IsD)/QPM/bookdown-minimal-master/bookdown-minimal-master/_bookdown_files/Lab_Files/36.png" width="400px" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">attach</span>(mtcars)
s3d &lt;-<span class="kw">scatterplot3d</span>(wt,disp,mpg, <span class="dt">pch=</span><span class="dv">16</span>, <span class="dt">highlight.3d=</span><span class="ot">TRUE</span>,<span class="dt">type=</span><span class="st">&quot;h&quot;</span>, <span class="dt">main=</span><span class="st">&quot;3D Scatterplot&quot;</span>)
fit &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>wt+disp)s3d$<span class="kw">plane3d</span>(fit, <span class="dt">col =</span> ’black’)</code></pre></div>
<p><img src="/Users/Ian/Dropbox (IsD)/QPM/bookdown-minimal-master/bookdown-minimal-master/_bookdown_files/Lab_Files/37.png" width="400px" /></p>
</div>
<div id="interactions" class="section level2">
<h2><span class="header-section-number">41.4</span> Interactions</h2>
<p>Prediction equation:</p>
<p><span class="math display">\[\hat{y} = \beta_0 + \beta_1 x_{1} + \beta_2 x_{2} + \beta_3 x_{1} \times x_{2}\]</span></p>
<p>Linear Model in R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lm</span>(<span class="dt">formula =</span> y ~<span class="st"> </span>x<span class="fl">.1</span> +<span class="st"> </span>x<span class="fl">.2</span> +<span class="st"> </span>x<span class="fl">.1</span> :<span class="st"> </span>x<span class="fl">.2</span>, <span class="dt">data =</span> my.data)</code></pre></div>
<p>Or simply</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lm</span>(<span class="dt">formula =</span> y ~<span class="st"> </span>x<span class="fl">.1</span> *<span class="st"> </span>x<span class="fl">.2</span>, <span class="dt">data =</span> my.data)</code></pre></div>
<p>With interactions, we are essentially asking how does a change in <span class="math inline">\(x_1\)</span> affect <span class="math inline">\(y\)</span>?</p>
<p><span class="math display">\[\frac{dy}{dx_1} = \beta_1 + \beta_3 x_2\]</span></p>
<p>Holding <span class="math inline">\(x_2\)</span> constant, a one-unit increase in <span class="math inline">\(x_1\)</span> increases <span class="math inline">\(y\)</span> by <span class="math inline">\(\beta_1 + \beta_3 x_2\)</span>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="regression-example.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lab-11-handout-answer-key-quantitative-political-methodology.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
