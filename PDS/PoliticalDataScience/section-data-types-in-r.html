<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Data Types in R | Political Data Science</title>
  <meta name="description" content="3 Data Types in R | Political Data Science" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Data Types in R | Political Data Science" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Data Types in R | Political Data Science" />
  
  
  

<meta name="author" content="Jacob Montgomery and Mariah Yelenick" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="section-getting-started-in-r.html"/>
<link rel="next" href="section-files-for-loops-and-functions.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Don’t be a clown</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#section-as-easy-as-cake"><i class="fa fa-check"></i><b>1.1</b> As easy as cake</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#section-coding"><i class="fa fa-check"></i><b>1.1.1</b> Coding</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#section-data-acquision"><i class="fa fa-check"></i><b>1.1.2</b> Data acquision</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#section-algorithms"><i class="fa fa-check"></i><b>1.1.3</b> Algorithms</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#section-domain-knowledge"><i class="fa fa-check"></i><b>1.1.4</b> Domain knowledge</a></li>
<li class="chapter" data-level="1.1.5" data-path="index.html"><a href="index.html#section-putting-it-together"><i class="fa fa-check"></i><b>1.1.5</b> Putting it together</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#section-class-structures"><i class="fa fa-check"></i><b>1.2</b> Class structures</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#section-learning-objective-1-team-based-learning"><i class="fa fa-check"></i><b>1.2.1</b> Learning objective #1: Team based learning</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#section-learning-objective-2-show-up-ready"><i class="fa fa-check"></i><b>1.2.2</b> Learning objective #2: Show up ready</a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#section-learning-objective-3-how-is-this-going-to-work"><i class="fa fa-check"></i><b>1.2.3</b> Learning objective #3: How is this going to work?</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#section-interactive-r-environment-not-currently-working"><i class="fa fa-check"></i><b>1.3</b> Interactive R Environment (not currently working)</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="section-getting-started-in-r.html"><a href="section-getting-started-in-r.html"><i class="fa fa-check"></i><b>2</b> Getting Started in R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="section-getting-started-in-r.html"><a href="section-getting-started-in-r.html#section-learning-objectives"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="section-getting-started-in-r.html"><a href="section-getting-started-in-r.html#section-assigning-values-to-objects"><i class="fa fa-check"></i><b>2.2</b> Assigning values to objects</a></li>
<li class="chapter" data-level="2.3" data-path="section-getting-started-in-r.html"><a href="section-getting-started-in-r.html#section-r-as-a-calculator"><i class="fa fa-check"></i><b>2.3</b> R as a calculator</a></li>
<li class="chapter" data-level="2.4" data-path="section-getting-started-in-r.html"><a href="section-getting-started-in-r.html#section-the-global-environment-and-how-to-clean-it"><i class="fa fa-check"></i><b>2.4</b> The global environment and how to clean it</a></li>
<li class="chapter" data-level="2.5" data-path="section-getting-started-in-r.html"><a href="section-getting-started-in-r.html#section-getting-help"><i class="fa fa-check"></i><b>2.5</b> Getting help</a></li>
<li class="chapter" data-level="2.6" data-path="section-getting-started-in-r.html"><a href="section-getting-started-in-r.html#section-installing-packages"><i class="fa fa-check"></i><b>2.6</b> Installing packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html"><i class="fa fa-check"></i><b>3</b> Data Types in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html#section-functions"><i class="fa fa-check"></i><b>3.1</b> Functions</a></li>
<li class="chapter" data-level="3.2" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html#section-vectors"><i class="fa fa-check"></i><b>3.2</b> Vectors</a></li>
<li class="chapter" data-level="3.3" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html#section-functions-and-vectors"><i class="fa fa-check"></i><b>3.3</b> Functions and vectors</a></li>
<li class="chapter" data-level="3.4" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html#section-logicalsbooleans"><i class="fa fa-check"></i><b>3.4</b> Logicals/Booleans</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html#section-boolean-logic"><i class="fa fa-check"></i><b>3.4.1</b> Boolean logic</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html#section-charactersstrings"><i class="fa fa-check"></i><b>3.5</b> Characters/Strings</a></li>
<li class="chapter" data-level="3.6" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html#section-matrices"><i class="fa fa-check"></i><b>3.6</b> Matrices</a></li>
<li class="chapter" data-level="3.7" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html#section-matrix-algebra-optional"><i class="fa fa-check"></i><b>3.7</b> Matrix algebra (optional)</a></li>
<li class="chapter" data-level="3.8" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html#section-lists"><i class="fa fa-check"></i><b>3.8</b> Lists</a></li>
<li class="chapter" data-level="3.9" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html#section-arrays"><i class="fa fa-check"></i><b>3.9</b> Arrays</a></li>
<li class="chapter" data-level="3.10" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html#section-dataframes"><i class="fa fa-check"></i><b>3.10</b> Dataframes</a></li>
<li class="chapter" data-level="3.11" data-path="section-data-types-in-r.html"><a href="section-data-types-in-r.html#section-general-info"><i class="fa fa-check"></i><b>3.11</b> General info</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html"><i class="fa fa-check"></i><b>4</b> Files, For Loops, and Functions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-the-working-directory"><i class="fa fa-check"></i><b>4.1</b> The working directory</a></li>
<li class="chapter" data-level="4.2" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-input-and-output"><i class="fa fa-check"></i><b>4.2</b> Input and output</a></li>
<li class="chapter" data-level="4.3" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-if-else-ifelse"><i class="fa fa-check"></i><b>4.3</b> if, else, ifelse</a></li>
<li class="chapter" data-level="4.4" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-repeat-and-while"><i class="fa fa-check"></i><b>4.4</b> repeat and while</a></li>
<li class="chapter" data-level="4.5" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-for-loops"><i class="fa fa-check"></i><b>4.5</b> for loops</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-next-and-break"><i class="fa fa-check"></i><b>4.5.1</b> next and break</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-functions-1"><i class="fa fa-check"></i><b>4.6</b> Functions</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-the-basics"><i class="fa fa-check"></i><b>4.6.1</b> The basics</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-setting-defaults"><i class="fa fa-check"></i><b>4.7</b> Setting defaults</a></li>
<li class="chapter" data-level="4.8" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-scope"><i class="fa fa-check"></i><b>4.8</b> Scope</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-advanced-scope-topics"><i class="fa fa-check"></i><b>4.8.1</b> Advanced scope topics</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-debugging"><i class="fa fa-check"></i><b>4.9</b> Debugging</a></li>
<li class="chapter" data-level="4.10" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-benchmarking-and-code-improvements"><i class="fa fa-check"></i><b>4.10</b> Benchmarking and code improvements</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-vectorizing"><i class="fa fa-check"></i><b>4.10.1</b> Vectorizing</a></li>
<li class="chapter" data-level="4.10.2" data-path="section-files-for-loops-and-functions.html"><a href="section-files-for-loops-and-functions.html#section-pastecollapse-and-copies"><i class="fa fa-check"></i><b>4.10.2</b> Paste/collapse and copies</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="section-version-control.html"><a href="section-version-control.html"><i class="fa fa-check"></i><b>5</b> Version Control</a>
<ul>
<li class="chapter" data-level="5.1" data-path="section-version-control.html"><a href="section-version-control.html#section-why-version-control"><i class="fa fa-check"></i><b>5.1</b> Why version control?</a></li>
<li class="chapter" data-level="5.2" data-path="section-version-control.html"><a href="section-version-control.html#section-setup"><i class="fa fa-check"></i><b>5.2</b> Setup</a></li>
<li class="chapter" data-level="5.3" data-path="section-version-control.html"><a href="section-version-control.html#section-workflow"><i class="fa fa-check"></i><b>5.3</b> Workflow</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="section-version-control.html"><a href="section-version-control.html#section-pull"><i class="fa fa-check"></i><b>5.3.1</b> Pull</a></li>
<li class="chapter" data-level="5.3.2" data-path="section-version-control.html"><a href="section-version-control.html#section-commit"><i class="fa fa-check"></i><b>5.3.2</b> Commit</a></li>
<li class="chapter" data-level="5.3.3" data-path="section-version-control.html"><a href="section-version-control.html#section-push"><i class="fa fa-check"></i><b>5.3.3</b> Push</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="section-version-control.html"><a href="section-version-control.html#section-branches"><i class="fa fa-check"></i><b>5.4</b> Branches</a></li>
<li class="chapter" data-level="5.5" data-path="section-version-control.html"><a href="section-version-control.html#section-forking"><i class="fa fa-check"></i><b>5.5</b> Forking</a></li>
<li class="chapter" data-level="5.6" data-path="section-version-control.html"><a href="section-version-control.html#section-reverting"><i class="fa fa-check"></i><b>5.6</b> Reverting</a></li>
<li class="chapter" data-level="5.7" data-path="section-version-control.html"><a href="section-version-control.html#section-conflict-management"><i class="fa fa-check"></i><b>5.7</b> Conflict management</a></li>
<li class="chapter" data-level="5.8" data-path="section-version-control.html"><a href="section-version-control.html#section-version-control-in-rstudio"><i class="fa fa-check"></i><b>5.8</b> Version Control in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="section-data-visualization-in-r.html"><a href="section-data-visualization-in-r.html"><i class="fa fa-check"></i><b>6</b> Data Visualization in R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="section-data-visualization-in-r.html"><a href="section-data-visualization-in-r.html#section-intro-to-ggplot2"><i class="fa fa-check"></i><b>6.1</b> Intro to ggplot2</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="section-data-visualization-in-r.html"><a href="section-data-visualization-in-r.html#section-example"><i class="fa fa-check"></i><b>6.1.1</b> Example</a></li>
<li class="chapter" data-level="6.1.2" data-path="section-data-visualization-in-r.html"><a href="section-data-visualization-in-r.html#section-aesthetics"><i class="fa fa-check"></i><b>6.1.2</b> Aesthetics</a></li>
<li class="chapter" data-level="6.1.3" data-path="section-data-visualization-in-r.html"><a href="section-data-visualization-in-r.html#section-facets"><i class="fa fa-check"></i><b>6.1.3</b> Facets</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="section-data-visualization-in-r.html"><a href="section-data-visualization-in-r.html#section-more-geom-options"><i class="fa fa-check"></i><b>6.2</b> More <code>geom</code> options</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html"><i class="fa fa-check"></i><b>7</b> dplyr and tidy</a>
<ul>
<li class="chapter" data-level="7.1" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-into-the-tidyverse"><i class="fa fa-check"></i><b>7.1</b> Into the tidyverse</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-our-example"><i class="fa fa-check"></i><b>7.1.1</b> Our example</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-back-to-dplyr"><i class="fa fa-check"></i><b>7.2</b> Back to <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-filter"><i class="fa fa-check"></i><b>7.2.1</b> <code>filter</code></a></li>
<li class="chapter" data-level="7.2.2" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-arrange"><i class="fa fa-check"></i><b>7.2.2</b> <code>arrange</code></a></li>
<li class="chapter" data-level="7.2.3" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-select"><i class="fa fa-check"></i><b>7.2.3</b> <code>select</code></a></li>
<li class="chapter" data-level="7.2.4" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-mutate"><i class="fa fa-check"></i><b>7.2.4</b> <code>mutate</code></a></li>
<li class="chapter" data-level="7.2.5" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-summarise"><i class="fa fa-check"></i><b>7.2.5</b> <code>summarise</code></a></li>
<li class="chapter" data-level="7.2.6" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-piping"><i class="fa fa-check"></i><b>7.2.6</b> Piping</a></li>
<li class="chapter" data-level="7.2.7" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-pivots"><i class="fa fa-check"></i><b>7.2.7</b> Pivots</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-relational-data"><i class="fa fa-check"></i><b>7.3</b> Relational data</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-mutating-join"><i class="fa fa-check"></i><b>7.3.1</b> Mutating join</a></li>
<li class="chapter" data-level="7.3.2" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-joins-topography"><i class="fa fa-check"></i><b>7.3.2</b> Joins topography</a></li>
<li class="chapter" data-level="7.3.3" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-many-and-one-to-many"><i class="fa fa-check"></i><b>7.3.3</b> Many and one-to-many</a></li>
<li class="chapter" data-level="7.3.4" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-filtering-joins"><i class="fa fa-check"></i><b>7.3.4</b> Filtering joins</a></li>
<li class="chapter" data-level="7.3.5" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-set-operations"><i class="fa fa-check"></i><b>7.3.5</b> Set operations</a></li>
<li class="chapter" data-level="7.3.6" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-exercise"><i class="fa fa-check"></i><b>7.3.6</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-stringr"><i class="fa fa-check"></i><b>7.4</b> <code>stringr</code></a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-things-you-havent-thought-about-strings"><i class="fa fa-check"></i><b>7.4.1</b> Things you haven’t thought about strings</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-pipes-and-maps"><i class="fa fa-check"></i><b>7.5</b> Pipes and maps</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-limitations-of-pipes"><i class="fa fa-check"></i><b>7.5.1</b> Limitations of Pipes</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-map"><i class="fa fa-check"></i><b>7.6</b> <code>map</code></a></li>
<li class="chapter" data-level="7.7" data-path="section-dplyr-and-tidy.html"><a href="section-dplyr-and-tidy.html#section-walk-purrr-and-more"><i class="fa fa-check"></i><b>7.7</b> walk, purrr, and more</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="section-more-useful-packages.html"><a href="section-more-useful-packages.html"><i class="fa fa-check"></i><b>8</b> More useful packages</a>
<ul>
<li class="chapter" data-level="8.1" data-path="section-more-useful-packages.html"><a href="section-more-useful-packages.html#section-stringr-1"><i class="fa fa-check"></i><b>8.1</b> <code>stringr</code></a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="section-more-useful-packages.html"><a href="section-more-useful-packages.html#section-things-you-havent-thought-about-strings-1"><i class="fa fa-check"></i><b>8.1.1</b> Things you haven’t thought about strings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="section-functions-and-packages.html"><a href="section-functions-and-packages.html"><i class="fa fa-check"></i><b>9</b> Functions and Packages</a>
<ul>
<li class="chapter" data-level="9.1" data-path="section-functions-and-packages.html"><a href="section-functions-and-packages.html#section-apply-and-its-friends"><i class="fa fa-check"></i><b>9.1</b> <code>apply</code> and its friends</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="section-functions-and-packages.html"><a href="section-functions-and-packages.html#section-apply"><i class="fa fa-check"></i><b>9.1.1</b> <code>apply</code></a></li>
<li class="chapter" data-level="9.1.2" data-path="section-functions-and-packages.html"><a href="section-functions-and-packages.html#section-lapply"><i class="fa fa-check"></i><b>9.1.2</b> <code>lapply</code></a></li>
<li class="chapter" data-level="9.1.3" data-path="section-functions-and-packages.html"><a href="section-functions-and-packages.html#section-sapply"><i class="fa fa-check"></i><b>9.1.3</b> <code>sapply</code></a></li>
<li class="chapter" data-level="9.1.4" data-path="section-functions-and-packages.html"><a href="section-functions-and-packages.html#section-tapply"><i class="fa fa-check"></i><b>9.1.4</b> <code>tapply</code></a></li>
<li class="chapter" data-level="9.1.5" data-path="section-functions-and-packages.html"><a href="section-functions-and-packages.html#section-sweep"><i class="fa fa-check"></i><b>9.1.5</b> <code>sweep</code></a></li>
<li class="chapter" data-level="9.1.6" data-path="section-functions-and-packages.html"><a href="section-functions-and-packages.html#section-by"><i class="fa fa-check"></i><b>9.1.6</b> <code>by</code></a></li>
<li class="chapter" data-level="9.1.7" data-path="section-functions-and-packages.html"><a href="section-functions-and-packages.html#section-vapply-and-more"><i class="fa fa-check"></i><b>9.1.7</b> <code>vapply</code> And more</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="section-functions-and-packages.html"><a href="section-functions-and-packages.html#section-plyr"><i class="fa fa-check"></i><b>9.2</b> <code>plyr</code></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="section-using-sql-syntax-on-an-r-dataframe.html"><a href="section-using-sql-syntax-on-an-r-dataframe.html"><i class="fa fa-check"></i><b>10</b> Using SQL syntax on an R dataframe</a>
<ul>
<li class="chapter" data-level="10.1" data-path="section-using-sql-syntax-on-an-r-dataframe.html"><a href="section-using-sql-syntax-on-an-r-dataframe.html#section-sql"><i class="fa fa-check"></i><b>10.1</b> SQL</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="section-using-sql-syntax-on-an-r-dataframe.html"><a href="section-using-sql-syntax-on-an-r-dataframe.html#section-select-and-from"><i class="fa fa-check"></i><b>10.1.1</b> <code>SELECT</code> and <code>FROM</code></a></li>
<li class="chapter" data-level="10.1.2" data-path="section-using-sql-syntax-on-an-r-dataframe.html"><a href="section-using-sql-syntax-on-an-r-dataframe.html#section-where"><i class="fa fa-check"></i><b>10.1.2</b> <code>WHERE</code></a></li>
<li class="chapter" data-level="10.1.3" data-path="section-using-sql-syntax-on-an-r-dataframe.html"><a href="section-using-sql-syntax-on-an-r-dataframe.html#section-functions-2"><i class="fa fa-check"></i><b>10.1.3</b> Functions</a></li>
<li class="chapter" data-level="10.1.4" data-path="section-using-sql-syntax-on-an-r-dataframe.html"><a href="section-using-sql-syntax-on-an-r-dataframe.html#section-having"><i class="fa fa-check"></i><b>10.1.4</b> <code>HAVING</code></a></li>
<li class="chapter" data-level="10.1.5" data-path="section-using-sql-syntax-on-an-r-dataframe.html"><a href="section-using-sql-syntax-on-an-r-dataframe.html#section-withas-and-subqueries"><i class="fa fa-check"></i><b>10.1.5</b> <code>WITH</code>/<code>AS</code> and Subqueries</a></li>
<li class="chapter" data-level="10.1.6" data-path="section-using-sql-syntax-on-an-r-dataframe.html"><a href="section-using-sql-syntax-on-an-r-dataframe.html#section-joins"><i class="fa fa-check"></i><b>10.1.6</b> Joins</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="section-using-sql-syntax-on-an-r-dataframe.html"><a href="section-using-sql-syntax-on-an-r-dataframe.html#section-the-sqldf-package"><i class="fa fa-check"></i><b>10.2</b> The <code>sqldf</code> package</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="section-machine-learning.html"><a href="section-machine-learning.html"><i class="fa fa-check"></i><b>11</b> Machine Learning</a>
<ul>
<li class="chapter" data-level="11.1" data-path="section-machine-learning.html"><a href="section-machine-learning.html#section-supervised-learning"><i class="fa fa-check"></i><b>11.1</b> Supervised Learning</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="section-machine-learning.html"><a href="section-machine-learning.html#section-the-gist"><i class="fa fa-check"></i><b>11.1.1</b> The Gist</a></li>
<li class="chapter" data-level="11.1.2" data-path="section-machine-learning.html"><a href="section-machine-learning.html#section-what-could-go-wrong"><i class="fa fa-check"></i><b>11.1.2</b> What could go wrong?</a></li>
<li class="chapter" data-level="11.1.3" data-path="section-machine-learning.html"><a href="section-machine-learning.html#section-example-predicting-presidential-elections-with-vote-share"><i class="fa fa-check"></i><b>11.1.3</b> Example: Predicting presidential elections with vote share</a></li>
<li class="chapter" data-level="11.1.4" data-path="section-machine-learning.html"><a href="section-machine-learning.html#section-the-complexity-of-keeping-it-simple"><i class="fa fa-check"></i><b>11.1.4</b> The complexity of keeping it simple</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="section-machine-learning.html"><a href="section-machine-learning.html#section-classification"><i class="fa fa-check"></i><b>11.2</b> Classification</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="section-machine-learning.html"><a href="section-machine-learning.html#section-classification-basics-binary-outcomes"><i class="fa fa-check"></i><b>11.2.1</b> Classification basics: Binary outcomes</a></li>
<li class="chapter" data-level="11.2.2" data-path="section-machine-learning.html"><a href="section-machine-learning.html#section-the-linear-classifier-aka-logit"><i class="fa fa-check"></i><b>11.2.2</b> The linear classifier (AKA Logit)</a></li>
<li class="chapter" data-level="11.2.3" data-path="section-machine-learning.html"><a href="section-machine-learning.html#section-more-models"><i class="fa fa-check"></i><b>11.2.3</b> More models</a></li>
<li class="chapter" data-level="11.2.4" data-path="section-machine-learning.html"><a href="section-machine-learning.html#section-random-forests"><i class="fa fa-check"></i><b>11.2.4</b> Random forests</a></li>
<li class="chapter" data-level="11.2.5" data-path="section-machine-learning.html"><a href="section-machine-learning.html#section-k-nearest-neighbors"><i class="fa fa-check"></i><b>11.2.5</b> K Nearest Neighbors</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="section-machine-learning.html"><a href="section-machine-learning.html#section-putting-that-in-action"><i class="fa fa-check"></i><b>11.3</b> Putting that in action</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="section-causality.html"><a href="section-causality.html"><i class="fa fa-check"></i><b>12</b> Causality</a>
<ul>
<li class="chapter" data-level="12.1" data-path="section-causality.html"><a href="section-causality.html#section-correlation-and-causation"><i class="fa fa-check"></i><b>12.1</b> Correlation and causation</a></li>
<li class="chapter" data-level="12.2" data-path="section-causality.html"><a href="section-causality.html#section-a-formal-definition"><i class="fa fa-check"></i><b>12.2</b> A formal definition</a></li>
<li class="chapter" data-level="12.3" data-path="section-causality.html"><a href="section-causality.html#section-formal-presentation-of-an-ate"><i class="fa fa-check"></i><b>12.3</b> Formal presentation of an ATE</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="section-causality.html"><a href="section-causality.html#section-danger"><i class="fa fa-check"></i><b>12.3.1</b> Danger!</a></li>
<li class="chapter" data-level="12.3.2" data-path="section-causality.html"><a href="section-causality.html#section-does-drinking-make-you-more-educated"><i class="fa fa-check"></i><b>12.3.2</b> Does drinking make you more educated?</a></li>
<li class="chapter" data-level="12.3.3" data-path="section-causality.html"><a href="section-causality.html#section-problem-it-can-be-way-more-subtle"><i class="fa fa-check"></i><b>12.3.3</b> Problem: It can be way more subtle</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="section-causality.html"><a href="section-causality.html#section-estimating-ate"><i class="fa fa-check"></i><b>12.4</b> Estimating ATE</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="section-causality.html"><a href="section-causality.html#section-filling-in-the-potential-values"><i class="fa fa-check"></i><b>12.4.1</b> Filling in the potential values</a></li>
<li class="chapter" data-level="12.4.2" data-path="section-causality.html"><a href="section-causality.html#section-good-causal-inference"><i class="fa fa-check"></i><b>12.4.2</b> Good causal inference</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="section-causality.html"><a href="section-causality.html#section-experiments-ab-testing"><i class="fa fa-check"></i><b>12.5</b> Experiments: A/B Testing</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="section-causality.html"><a href="section-causality.html#section-what-to-do-when-you-cant-experiment"><i class="fa fa-check"></i><b>12.5.1</b> What to do when you can’t experiment:</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="section-causality.html"><a href="section-causality.html#section-panel-data-and-fixed-effects"><i class="fa fa-check"></i><b>12.6</b> Panel data and fixed effects</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="section-causality.html"><a href="section-causality.html#section-example-are-elections-fought-over-non-economic-issues-more-when-globalization-increases"><i class="fa fa-check"></i><b>12.6.1</b> Example: Are elections fought over non-economic issues more when globalization increases?</a></li>
<li class="chapter" data-level="12.6.2" data-path="section-causality.html"><a href="section-causality.html#section-naive-regression"><i class="fa fa-check"></i><b>12.6.2</b> Naive regression</a></li>
<li class="chapter" data-level="12.6.3" data-path="section-causality.html"><a href="section-causality.html#section-fixed-effects"><i class="fa fa-check"></i><b>12.6.3</b> Fixed effects</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="section-causality.html"><a href="section-causality.html#section-difference-in-differences"><i class="fa fa-check"></i><b>12.7</b> Difference-in-differences</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="section-causality.html"><a href="section-causality.html#section-did-in-practice"><i class="fa fa-check"></i><b>12.7.1</b> DID in practice</a></li>
<li class="chapter" data-level="12.7.2" data-path="section-causality.html"><a href="section-causality.html#section-regression-discontinuity"><i class="fa fa-check"></i><b>12.7.2</b> Regression discontinuity</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Political Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="section-data-types-in-r" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Data Types in R</h1>
<div id="section-functions" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Functions</h2>
<p>Functions in R are denoted by the parentheses when you use them. For example, log is a function. The first line of the following code snippet
just tells us the signature of the function - what inputs it takes and what the default values are if an input is optional. In this case,
x is a required input (sometimes called parameter), and base is optional. If the user of the functiond doesn’t specify a base, it will use
base <span class="math inline">\(e\)</span>. If you don’t specify the names of the parameters when using the function, they must be in the same order the function signature
specifies. You can put them in any order, but to be safe, you should specify the names of each parameter.</p>
<div class="sourceCode" id="section-cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb41-1"><a href="section-data-types-in-r.html#section-cb41-1"></a>log</span></code></pre></div>
<pre><code>## function (x, base = exp(1))  .Primitive(&quot;log&quot;)</code></pre>
<div class="sourceCode" id="section-cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb43-1"><a href="section-data-types-in-r.html#section-cb43-1"></a><span class="kw">log</span>(<span class="dv">2</span>) <span class="co"># ln(2)</span></span></code></pre></div>
<pre><code>## [1] 0.6931472</code></pre>
<div class="sourceCode" id="section-cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb45-1"><a href="section-data-types-in-r.html#section-cb45-1"></a><span class="kw">log</span>(<span class="dv">2</span>, <span class="dt">base=</span><span class="dv">10</span>) <span class="co"># log(2) base 10</span></span></code></pre></div>
<pre><code>## [1] 0.30103</code></pre>
<div class="sourceCode" id="section-cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb47-1"><a href="section-data-types-in-r.html#section-cb47-1"></a><span class="kw">log</span>(<span class="dt">base =</span> <span class="dv">10</span>, <span class="dt">x =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 0.30103</code></pre>
<div class="sourceCode" id="section-cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb49-1"><a href="section-data-types-in-r.html#section-cb49-1"></a><span class="kw">exp</span>(<span class="kw">log</span>(<span class="dv">1</span>)) <span class="co"># e^ln(1) = 1</span></span></code></pre></div>
<pre><code>## [1] 1</code></pre>
</div>
<div id="section-vectors" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Vectors</h2>
<p>The c() function is used to collect/concatenate things together into a vector</p>
<div class="sourceCode" id="section-cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb51-1"><a href="section-data-types-in-r.html#section-cb51-1"></a><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">7</span>,<span class="dv">8</span>)</span></code></pre></div>
<pre><code>## [1] 0 7 8</code></pre>
<div class="sourceCode" id="section-cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb53-1"><a href="section-data-types-in-r.html#section-cb53-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">7</span>,<span class="dv">8</span>) <span class="co"># assign this to a named object</span></span></code></pre></div>
<p>An easy way to make a sequence vector is using the <code>:</code> operator. This will start at the first value, increment by 1 each time,
and end either before or at the second value. Here are some examples that demonstrate this behavior.</p>
<div class="sourceCode" id="section-cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb54-1"><a href="section-data-types-in-r.html#section-cb54-1"></a>numbers5to20 &lt;-<span class="st"> </span><span class="dv">5</span><span class="op">:</span><span class="dv">20</span></span>
<span id="section-cb54-2"><a href="section-data-types-in-r.html#section-cb54-2"></a>numbers5to20</span></code></pre></div>
<pre><code>##  [1]  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<div class="sourceCode" id="section-cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb56-1"><a href="section-data-types-in-r.html#section-cb56-1"></a><span class="fl">1.5</span><span class="op">:</span><span class="dv">10</span> </span></code></pre></div>
<pre><code>## [1] 1.5 2.5 3.5 4.5 5.5 6.5 7.5 8.5 9.5</code></pre>
<p>You can also concatenate any number of vectors to make a new vector. To do this, you need to use a comma between all inputs to the c() function.</p>
<div class="sourceCode" id="section-cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb58-1"><a href="section-data-types-in-r.html#section-cb58-1"></a><span class="kw">c</span>(numbers5to20, x, numbers5to20)</span></code></pre></div>
<pre><code>##  [1]  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20  0  7  8  5  6  7  8  9 10
## [26] 11 12 13 14 15 16 17 18 19 20</code></pre>
</div>
<div id="section-functions-and-vectors" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Functions and vectors</h2>
<p>Many functions have been “vectorized” meaning that they work on each element in the vector</p>
<div class="sourceCode" id="section-cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb60-1"><a href="section-data-types-in-r.html#section-cb60-1"></a>numbers5to20<span class="op">*</span><span class="dv">2</span></span></code></pre></div>
<pre><code>##  [1] 10 12 14 16 18 20 22 24 26 28 30 32 34 36 38 40</code></pre>
<div class="sourceCode" id="section-cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb62-1"><a href="section-data-types-in-r.html#section-cb62-1"></a><span class="kw">sqrt</span>(numbers5to20)</span></code></pre></div>
<pre><code>##  [1] 2.236068 2.449490 2.645751 2.828427 3.000000 3.162278 3.316625 3.464102
##  [9] 3.605551 3.741657 3.872983 4.000000 4.123106 4.242641 4.358899 4.472136</code></pre>
<div class="sourceCode" id="section-cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb64-1"><a href="section-data-types-in-r.html#section-cb64-1"></a><span class="kw">log</span>(numbers5to20)</span></code></pre></div>
<pre><code>##  [1] 1.609438 1.791759 1.945910 2.079442 2.197225 2.302585 2.397895 2.484907
##  [9] 2.564949 2.639057 2.708050 2.772589 2.833213 2.890372 2.944439 2.995732</code></pre>
<div class="sourceCode" id="section-cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb66-1"><a href="section-data-types-in-r.html#section-cb66-1"></a><span class="kw">abs</span>(numbers5to20)</span></code></pre></div>
<pre><code>##  [1]  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<div class="sourceCode" id="section-cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb68-1"><a href="section-data-types-in-r.html#section-cb68-1"></a>numbers5to20<span class="op">^</span><span class="dv">2</span></span></code></pre></div>
<pre><code>##  [1]  25  36  49  64  81 100 121 144 169 196 225 256 289 324 361 400</code></pre>
<div class="sourceCode" id="section-cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb70-1"><a href="section-data-types-in-r.html#section-cb70-1"></a>data &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">NA</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="ot">NA</span>, <span class="dv">19</span>)</span>
<span id="section-cb70-2"><a href="section-data-types-in-r.html#section-cb70-2"></a><span class="kw">is.na</span>(data) <span class="co">#tells us true or false whether each value is NA</span></span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="section-cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb72-1"><a href="section-data-types-in-r.html#section-cb72-1"></a><span class="op">!</span><span class="kw">is.na</span>(data) <span class="co">#true if the value is *not* NA</span></span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE FALSE  TRUE</code></pre>
<p>When you “interact” two vectors, they will work “elementwise”.</p>
<div class="sourceCode" id="section-cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb74-1"><a href="section-data-types-in-r.html#section-cb74-1"></a>numbers5to20<span class="op">*</span>numbers5to20</span></code></pre></div>
<pre><code>##  [1]  25  36  49  64  81 100 121 144 169 196 225 256 289 324 361 400</code></pre>
<div class="sourceCode" id="section-cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb76-1"><a href="section-data-types-in-r.html#section-cb76-1"></a>numbers5to20<span class="op">+</span>numbers5to20</span></code></pre></div>
<pre><code>##  [1] 10 12 14 16 18 20 22 24 26 28 30 32 34 36 38 40</code></pre>
<div class="sourceCode" id="section-cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb78-1"><a href="section-data-types-in-r.html#section-cb78-1"></a>numbers5to20<span class="op">+</span><span class="kw">rev</span>(numbers5to20) <span class="co">#rev() reverses a vector</span></span></code></pre></div>
<pre><code>##  [1] 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25</code></pre>
<p>Other functions operate on an entire vector at once.</p>
<div class="sourceCode" id="section-cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb80-1"><a href="section-data-types-in-r.html#section-cb80-1"></a><span class="kw">sum</span>(numbers5to20)</span></code></pre></div>
<pre><code>## [1] 200</code></pre>
<div class="sourceCode" id="section-cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb82-1"><a href="section-data-types-in-r.html#section-cb82-1"></a><span class="kw">prod</span>(numbers5to20) <span class="co">#multiplies all elements together</span></span></code></pre></div>
<pre><code>## [1] 1.013709e+17</code></pre>
<div class="sourceCode" id="section-cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb84-1"><a href="section-data-types-in-r.html#section-cb84-1"></a><span class="kw">mean</span>(numbers5to20)</span></code></pre></div>
<pre><code>## [1] 12.5</code></pre>
<div class="sourceCode" id="section-cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb86-1"><a href="section-data-types-in-r.html#section-cb86-1"></a><span class="kw">var</span>(numbers5to20)</span></code></pre></div>
<pre><code>## [1] 22.66667</code></pre>
<div class="sourceCode" id="section-cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb88-1"><a href="section-data-types-in-r.html#section-cb88-1"></a><span class="kw">max</span>(numbers5to20, <span class="dt">na.rm=</span>T) <span class="co"># maximum -- ignore missing data</span></span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="section-cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb90-1"><a href="section-data-types-in-r.html#section-cb90-1"></a><span class="kw">min</span>(numbers5to20, <span class="dt">na.rm=</span><span class="ot">TRUE</span>) <span class="co">#minimum -- notice that T=TRUE</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="section-cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb92-1"><a href="section-data-types-in-r.html#section-cb92-1"></a><span class="kw">summary</span>(numbers5to20)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    5.00    8.75   12.50   12.50   16.25   20.00</code></pre>
<p>Accessing elements of a vector or matrix is usually done with the [] operators</p>
<p>We can access the any element of numbers5to20.</p>
<p>If you’ve coded in other languages that have zero-based indexing, R is a little different. The first element of a vector in R has index 1. This is shown below.</p>
<div class="sourceCode" id="section-cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb94-1"><a href="section-data-types-in-r.html#section-cb94-1"></a>numbers5to20[<span class="dv">1</span>] </span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="section-cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb96-1"><a href="section-data-types-in-r.html#section-cb96-1"></a>numbers5to20[<span class="dv">40</span>] </span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>We can also extract several elements at a time using vectors.</p>
<div class="sourceCode" id="section-cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb98-1"><a href="section-data-types-in-r.html#section-cb98-1"></a>numbers5to20[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">7</span>)] </span></code></pre></div>
<pre><code>## [1]  7 10 11</code></pre>
<div class="sourceCode" id="section-cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb100-1"><a href="section-data-types-in-r.html#section-cb100-1"></a>numbers5to20[<span class="dv">3</span><span class="op">:</span><span class="dv">7</span>]</span></code></pre></div>
<pre><code>## [1]  7  8  9 10 11</code></pre>
<p>We can repeat numbers as well</p>
<div class="sourceCode" id="section-cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb102-1"><a href="section-data-types-in-r.html#section-cb102-1"></a>numbers5to20[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>)] </span></code></pre></div>
<pre><code>## [1] 7 7 6 6</code></pre>
<p>This code prints everything but the 4th through 7th elements by using the negative sign</p>
<div class="sourceCode" id="section-cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb104-1"><a href="section-data-types-in-r.html#section-cb104-1"></a>numbers5to20[<span class="op">-</span>(<span class="dv">4</span><span class="op">:</span><span class="dv">7</span>)] </span></code></pre></div>
<pre><code>##  [1]  5  6  7 12 13 14 15 16 17 18 19 20</code></pre>
<div class="sourceCode" id="section-cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb106-1"><a href="section-data-types-in-r.html#section-cb106-1"></a>x</span>
<span id="section-cb106-2"><a href="section-data-types-in-r.html#section-cb106-2"></a>x<span class="op">*</span><span class="dv">3</span> <span class="co">#scalar multiplication</span></span>
<span id="section-cb106-3"><a href="section-data-types-in-r.html#section-cb106-3"></a>y &lt;-<span class="st"> </span>x<span class="dv">-5</span> <span class="co">#simple addition and multiplicaiton are done &quot;by element&quot;</span></span>
<span id="section-cb106-4"><a href="section-data-types-in-r.html#section-cb106-4"></a>y</span>
<span id="section-cb106-5"><a href="section-data-types-in-r.html#section-cb106-5"></a>x<span class="op">^</span><span class="dv">3</span> <span class="co"># ditto with exponents</span></span>
<span id="section-cb106-6"><a href="section-data-types-in-r.html#section-cb106-6"></a>y<span class="op">^</span>x <span class="co"># but if each are three elements long, it will execute by element</span></span></code></pre></div>
<p>Vector recycling</p>
<p>When vectors have different lengths, the shorter one is extended by
repeating the vector.</p>
<p>This means two things:
1. The vector lengths must be multiples of each other
2. This is a <em>very</em> easy way to make a bad, bad mistake.</p>
<p>You can easily find the length of a vector</p>
<div class="sourceCode" id="section-cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb107-1"><a href="section-data-types-in-r.html#section-cb107-1"></a><span class="kw">length</span>(numbers5to20)</span></code></pre></div>
<pre><code>## [1] 16</code></pre>
<p>Other functions will create vectors as outputs</p>
<div class="sourceCode" id="section-cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb109-1"><a href="section-data-types-in-r.html#section-cb109-1"></a><span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">5</span>) <span class="co">#Repeat the value 1, 5 times</span></span></code></pre></div>
<pre><code>## [1] 1 1 1 1 1</code></pre>
<div class="sourceCode" id="section-cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb111-1"><a href="section-data-types-in-r.html#section-cb111-1"></a><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">21</span>, <span class="dt">by=</span><span class="dv">2</span>) <span class="co">#Make the sequence 1 to 21 moving by increments of 2</span></span></code></pre></div>
<pre><code>##  [1]  1  3  5  7  9 11 13 15 17 19 21</code></pre>
<div class="sourceCode" id="section-cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb113-1"><a href="section-data-types-in-r.html#section-cb113-1"></a><span class="kw">rep</span>(<span class="kw">seq</span>(<span class="dv">2</span>,<span class="dv">20</span>, <span class="dt">by=</span><span class="dv">2</span>), <span class="dv">2</span>) <span class="co">#Repeat the pattern 2, 4, ... 20, twice</span></span></code></pre></div>
<pre><code>##  [1]  2  4  6  8 10 12 14 16 18 20  2  4  6  8 10 12 14 16 18 20</code></pre>
<div class="sourceCode" id="section-cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb115-1"><a href="section-data-types-in-r.html#section-cb115-1"></a><span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>), <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">2</span>)) <span class="co">#Repeat 1 three times and 4 twice</span></span></code></pre></div>
<pre><code>## [1] 1 1 1 4 4</code></pre>
<div class="sourceCode" id="section-cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb117-1"><a href="section-data-types-in-r.html#section-cb117-1"></a><span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>), <span class="dt">each=</span><span class="dv">3</span>) <span class="co">#Repeat each value 3 times</span></span></code></pre></div>
<pre><code>## [1] 1 1 1 4 4 4</code></pre>
</div>
<div id="section-logicalsbooleans" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Logicals/Booleans</h2>
<p>Logicals are often used when subsetting or recoding data</p>
<p>Generally necessary to understand this for data wrangling</p>
<div class="sourceCode" id="section-cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb119-1"><a href="section-data-types-in-r.html#section-cb119-1"></a>x&lt;-<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">7</span>, <span class="dv">8</span>) </span>
<span id="section-cb119-2"><a href="section-data-types-in-r.html#section-cb119-2"></a>chooser&lt;-<span class="kw">c</span>(T, F, T)</span>
<span id="section-cb119-3"><a href="section-data-types-in-r.html#section-cb119-3"></a>x[chooser] <span class="co"># print all elements of x where chooser is TRUE</span></span></code></pre></div>
<pre><code>## [1] 0 8</code></pre>
<p>Arithmetic operations on logicals create numerics where:</p>
<ul>
<li>TRUE is treated as a ‘1’, and</li>
<li>FALSE is treated as a ‘0’</li>
</ul>
<div class="sourceCode" id="section-cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb121-1"><a href="section-data-types-in-r.html#section-cb121-1"></a><span class="kw">sum</span>(chooser) <span class="co"># Number of true values</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div id="section-boolean-logic" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Boolean logic</h3>
<div class="sourceCode" id="section-cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb123-1"><a href="section-data-types-in-r.html#section-cb123-1"></a>x <span class="op">==</span><span class="st"> </span><span class="dv">7</span> <span class="co">#equals</span></span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="section-cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb125-1"><a href="section-data-types-in-r.html#section-cb125-1"></a>x <span class="op">!=</span><span class="st"> </span><span class="dv">7</span> <span class="co">#does not equal</span></span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="section-cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb127-1"><a href="section-data-types-in-r.html#section-cb127-1"></a>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">7</span> <span class="co">#greater than</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="section-cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb129-1"><a href="section-data-types-in-r.html#section-cb129-1"></a>x <span class="op">&gt;=</span><span class="st"> </span><span class="dv">7</span> <span class="co">#greater than or equal to</span></span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="section-cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb131-1"><a href="section-data-types-in-r.html#section-cb131-1"></a>x <span class="op">&lt;</span><span class="st"> </span><span class="dv">7</span> <span class="co">#less than</span></span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="section-cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb133-1"><a href="section-data-types-in-r.html#section-cb133-1"></a>x <span class="op">&lt;=</span><span class="st"> </span><span class="dv">7</span> <span class="co">#less than or equal to</span></span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode" id="section-cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb135-1"><a href="section-data-types-in-r.html#section-cb135-1"></a>x <span class="op">&lt;</span><span class="st"> </span><span class="dv">7</span> <span class="op">|</span><span class="st"> </span>x <span class="op">==</span><span class="st"> </span><span class="dv">7</span> <span class="co">## the or operator</span></span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode" id="section-cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb137-1"><a href="section-data-types-in-r.html#section-cb137-1"></a>x <span class="op">&lt;=</span><span class="st"> </span><span class="dv">7</span> <span class="op">&amp;</span><span class="st"> </span>x <span class="op">==</span><span class="st"> </span><span class="dv">7</span> <span class="co">## the and operator</span></span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
<p>“or” - the pipe symbol - returns true if either/any of the conditions are true
“and” - the ampersand - returns true if both/all of the conditions are true</p>
<p>Most of the time, we use boolean logic to subset datasets.</p>
<p>Here’s some data to get us started</p>
<div class="sourceCode" id="section-cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb139-1"><a href="section-data-types-in-r.html#section-cb139-1"></a>vap&lt;-voting.age.population&lt;-<span class="kw">c</span>(<span class="dv">3481823</span>, <span class="dv">496387</span>, <span class="dv">4582842</span>, <span class="dv">2120139</span>,<span class="dv">26955438</span>,</span>
<span id="section-cb139-2"><a href="section-data-types-in-r.html#section-cb139-2"></a>                              <span class="dv">3617942</span>,<span class="dv">2673154</span>,<span class="dv">652189</span>,<span class="dv">472143</span>,<span class="dv">14085749</span>,<span class="dv">6915512</span>,</span>
<span id="section-cb139-3"><a href="section-data-types-in-r.html#section-cb139-3"></a>                              <span class="dv">995937</span>,<span class="dv">1073799</span>,<span class="dv">9600372</span>,<span class="dv">4732010</span>,<span class="dv">2265860</span>,<span class="dv">2068253</span>,</span>
<span id="section-cb139-4"><a href="section-data-types-in-r.html#section-cb139-4"></a>                              <span class="dv">3213141</span>,<span class="dv">3188765</span>,<span class="dv">1033632</span>,<span class="dv">4242214</span>,<span class="dv">4997677</span>,<span class="dv">7620982</span>,</span>
<span id="section-cb139-5"><a href="section-data-types-in-r.html#section-cb139-5"></a>                              <span class="dv">3908159</span>,<span class="dv">2139918</span>,<span class="dv">4426278</span>,<span class="dv">731365</span>,<span class="dv">1321923</span>,<span class="dv">1870315</span>,<span class="dv">1012033</span>,</span>
<span id="section-cb139-6"><a href="section-data-types-in-r.html#section-cb139-6"></a>                              <span class="dv">6598368</span>,<span class="dv">1452962</span>,<span class="dv">14838076</span>,<span class="dv">6752018</span>,<span class="dv">494923</span>,<span class="dv">8697456</span>,<span class="dv">2697855</span>,</span>
<span id="section-cb139-7"><a href="section-data-types-in-r.html#section-cb139-7"></a>                              <span class="dv">2850525</span>,<span class="dv">9612380</span>,<span class="dv">824854</span>,<span class="dv">3303593</span>,<span class="dv">594599</span>,<span class="dv">4636679</span>,</span>
<span id="section-cb139-8"><a href="section-data-types-in-r.html#section-cb139-8"></a>                              <span class="dv">17038979</span>,<span class="dv">1797941</span>,<span class="dv">487900</span>,<span class="dv">5841335</span>,<span class="dv">4876661</span>,<span class="dv">1421717</span>,</span>
<span id="section-cb139-9"><a href="section-data-types-in-r.html#section-cb139-9"></a>                              <span class="dv">4257230</span>,<span class="dv">392344</span>)    </span>
<span id="section-cb139-10"><a href="section-data-types-in-r.html#section-cb139-10"></a></span>
<span id="section-cb139-11"><a href="section-data-types-in-r.html#section-cb139-11"></a></span>
<span id="section-cb139-12"><a href="section-data-types-in-r.html#section-cb139-12"></a>total.votes&lt;-tv&lt;-<span class="kw">c</span>(<span class="ot">NA</span>, <span class="dv">238307</span>, <span class="dv">1553032</span>, <span class="dv">780409</span>,<span class="dv">8899059</span>,<span class="dv">1586105</span>, </span>
<span id="section-cb139-13"><a href="section-data-types-in-r.html#section-cb139-13"></a>                   <span class="dv">1162391</span>,<span class="dv">258053</span>, <span class="dv">122356</span>,<span class="dv">4884544</span>, <span class="dv">2143845</span>,<span class="dv">348988</span>, </span>
<span id="section-cb139-14"><a href="section-data-types-in-r.html#section-cb139-14"></a>                   <span class="dv">458927</span>,<span class="dv">3586292</span>, <span class="dv">1719351</span>,<span class="dv">1071509</span>, <span class="dv">864083</span>,<span class="dv">1370062</span>, </span>
<span id="section-cb139-15"><a href="section-data-types-in-r.html#section-cb139-15"></a>                   <span class="dv">954896</span>,<span class="ot">NA</span>, <span class="dv">1809237</span>, <span class="dv">2243835</span>,<span class="dv">3852008</span>, <span class="dv">2217552</span>,<span class="ot">NA</span>, </span>
<span id="section-cb139-16"><a href="section-data-types-in-r.html#section-cb139-16"></a>                   <span class="dv">2178278</span>, <span class="dv">411061</span>,<span class="dv">610499</span>, <span class="dv">586274</span>,<span class="dv">418550</span>, <span class="dv">2315643</span>,<span class="dv">568597</span>, </span>
<span id="section-cb139-17"><a href="section-data-types-in-r.html#section-cb139-17"></a>                   <span class="dv">4703830</span>,<span class="dv">2036451</span>, <span class="dv">220479</span>,<span class="dv">4184072</span>, <span class="ot">NA</span>,<span class="dv">1399650</span>, <span class="ot">NA</span>,<span class="dv">392882</span>, </span>
<span id="section-cb139-18"><a href="section-data-types-in-r.html#section-cb139-18"></a>                   <span class="dv">1117311</span>,<span class="dv">341105</span>, <span class="dv">1868363</span>,<span class="ot">NA</span>, <span class="dv">582561</span>, <span class="dv">263025</span>,<span class="dv">2398589</span>, </span>
<span id="section-cb139-19"><a href="section-data-types-in-r.html#section-cb139-19"></a>                   <span class="dv">2085074</span>,<span class="dv">473014</span>, <span class="dv">2183155</span>, <span class="dv">196217</span>)</span>
<span id="section-cb139-20"><a href="section-data-types-in-r.html#section-cb139-20"></a></span>
<span id="section-cb139-21"><a href="section-data-types-in-r.html#section-cb139-21"></a>tv[<span class="op">!</span><span class="kw">is.na</span>(tv)] <span class="co"># get all valid datapoints from the tv dataset</span></span></code></pre></div>
<pre><code>##  [1]  238307 1553032  780409 8899059 1586105 1162391  258053  122356 4884544
## [10] 2143845  348988  458927 3586292 1719351 1071509  864083 1370062  954896
## [19] 1809237 2243835 3852008 2217552 2178278  411061  610499  586274  418550
## [28] 2315643  568597 4703830 2036451  220479 4184072 1399650  392882 1117311
## [37]  341105 1868363  582561  263025 2398589 2085074  473014 2183155  196217</code></pre>
<div class="sourceCode" id="section-cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb141-1"><a href="section-data-types-in-r.html#section-cb141-1"></a>small.states &lt;-<span class="st"> </span>voting.age.population[voting.age.population <span class="op">&lt;</span><span class="st"> </span><span class="kw">median</span>(voting.age.population)]</span>
<span id="section-cb141-2"><a href="section-data-types-in-r.html#section-cb141-2"></a>small.states</span></code></pre></div>
<pre><code>##  [1]  496387 2120139 2673154  652189  472143  995937 1073799 2265860 2068253
## [10] 1033632 2139918  731365 1321923 1870315 1012033 1452962  494923 2697855
## [19] 2850525  824854  594599 1797941  487900 1421717  392344</code></pre>
<div class="sourceCode" id="section-cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb143-1"><a href="section-data-types-in-r.html#section-cb143-1"></a>state.size &lt;-(voting.age.population <span class="op">&gt;</span><span class="st"> </span><span class="kw">median</span>(voting.age.population)) <span class="op">*</span><span class="st"> </span><span class="dv">1</span></span>
<span id="section-cb143-2"><a href="section-data-types-in-r.html#section-cb143-2"></a>state.size <span class="co"># this code makes a new vector equal to 1 if it&#39;s a large state (larger than median), 0 otherwise</span></span></code></pre></div>
<pre><code>##  [1] 1 0 1 0 1 1 0 0 0 1 1 0 0 1 1 0 0 1 0 0 1 1 1 1 0 1 0 0 0 0 1 0 1 1 0 1 0 0
## [39] 1 0 1 0 1 1 0 0 1 1 0 1 0</code></pre>
<div class="sourceCode" id="section-cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb145-1"><a href="section-data-types-in-r.html#section-cb145-1"></a><span class="kw">which</span>(state.size <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="co"># returns the vector of indices of the elements that have state.size equal to 1</span></span></code></pre></div>
<pre><code>##  [1]  1  3  5  6 10 11 14 15 18 21 22 23 24 26 31 33 34 36 39 41 43 44 47 48 50</code></pre>
<div class="sourceCode" id="section-cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb147-1"><a href="section-data-types-in-r.html#section-cb147-1"></a>state.size <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="co"># returns a logical vector where TRUE means it&#39;s a larger state</span></span></code></pre></div>
<pre><code>##  [1]  TRUE FALSE  TRUE FALSE  TRUE  TRUE FALSE FALSE FALSE  TRUE  TRUE FALSE
## [13] FALSE  TRUE  TRUE FALSE FALSE  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE
## [25] FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE  TRUE FALSE  TRUE
## [37] FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE  TRUE FALSE FALSE  TRUE  TRUE
## [49] FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="section-cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb149-1"><a href="section-data-types-in-r.html#section-cb149-1"></a><span class="kw">any</span>(x<span class="op">&gt;</span><span class="dv">2</span>) <span class="co">#returns true if the condition is true for any element</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="section-cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb151-1"><a href="section-data-types-in-r.html#section-cb151-1"></a><span class="kw">all</span>(x<span class="op">&gt;</span><span class="dv">2</span>) <span class="co">#returns true if the condition is true for all elements</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
</div>
<div id="section-charactersstrings" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Characters/Strings</h2>
<div class="sourceCode" id="section-cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb153-1"><a href="section-data-types-in-r.html#section-cb153-1"></a>colors &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;magenta&quot;</span>, <span class="st">&quot;cyan&quot;</span>)</span></code></pre></div>
<p>You might want only a portion of the string.</p>
<div class="sourceCode" id="section-cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb154-1"><a href="section-data-types-in-r.html#section-cb154-1"></a><span class="kw">substr</span>(colors, <span class="dt">start=</span><span class="dv">1</span>, <span class="dt">stop=</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] &quot;re&quot; &quot;ye&quot; &quot;bl&quot; &quot;gr&quot; &quot;ma&quot; &quot;cy&quot;</code></pre>
<div class="sourceCode" id="section-cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb156-1"><a href="section-data-types-in-r.html#section-cb156-1"></a><span class="kw">paste0</span>(colors, <span class="st">&quot;flowers&quot;</span>) <span class="co"># combine two strings</span></span></code></pre></div>
<pre><code>## [1] &quot;redflowers&quot;     &quot;yellowflowers&quot;  &quot;blueflowers&quot;    &quot;greenflowers&quot;  
## [5] &quot;magentaflowers&quot; &quot;cyanflowers&quot;</code></pre>
<div class="sourceCode" id="section-cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb158-1"><a href="section-data-types-in-r.html#section-cb158-1"></a><span class="kw">paste</span>(colors, <span class="st">&quot;flowers&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>) <span class="co"># combine two strings</span></span></code></pre></div>
<pre><code>## [1] &quot;redflowers&quot;     &quot;yellowflowers&quot;  &quot;blueflowers&quot;    &quot;greenflowers&quot;  
## [5] &quot;magentaflowers&quot; &quot;cyanflowers&quot;</code></pre>
<div class="sourceCode" id="section-cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb160-1"><a href="section-data-types-in-r.html#section-cb160-1"></a><span class="kw">paste</span>(<span class="st">&quot;I like&quot;</span>, colors, <span class="st">&quot;flowers&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;I like red flowers&quot;     &quot;I like yellow flowers&quot;  &quot;I like blue flowers&quot;   
## [4] &quot;I like green flowers&quot;   &quot;I like magenta flowers&quot; &quot;I like cyan flowers&quot;</code></pre>
<div class="sourceCode" id="section-cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb162-1"><a href="section-data-types-in-r.html#section-cb162-1"></a><span class="kw">paste</span>(<span class="st">&quot;I like&quot;</span>, colors, <span class="st">&quot;flowers&quot;</span>, <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;I like red flowersI like yellow flowersI like blue flowersI like green flowersI like magenta flowersI like cyan flowers&quot;</code></pre>
<div class="sourceCode" id="section-cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb164-1"><a href="section-data-types-in-r.html#section-cb164-1"></a><span class="kw">nchar</span>(colors) <span class="co">#how many characters in each string</span></span></code></pre></div>
<pre><code>## [1] 3 6 4 5 7 4</code></pre>
<p>You may want to divide a string into components</p>
<div class="sourceCode" id="section-cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb166-1"><a href="section-data-types-in-r.html#section-cb166-1"></a>extreme.statement &lt;-<span class="st"> &quot;Coding is my life&quot;</span></span>
<span id="section-cb166-2"><a href="section-data-types-in-r.html#section-cb166-2"></a>this.out &lt;-<span class="st"> </span><span class="kw">strsplit</span>(extreme.statement, <span class="dt">split=</span><span class="st">&quot; &quot;</span>)  </span>
<span id="section-cb166-3"><a href="section-data-types-in-r.html#section-cb166-3"></a><span class="kw">unlist</span>(this.out)</span></code></pre></div>
<pre><code>## [1] &quot;Coding&quot; &quot;is&quot;     &quot;my&quot;     &quot;life&quot;</code></pre>
<p>Use gsub to replace or remove parts of a string</p>
<div class="sourceCode" id="section-cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb168-1"><a href="section-data-types-in-r.html#section-cb168-1"></a><span class="kw">gsub</span>(<span class="st">&quot;my life&quot;</span>, <span class="st">&quot;the bee&#39;s knees&quot;</span>, extreme.statement) </span></code></pre></div>
<pre><code>## [1] &quot;Coding is the bee&#39;s knees&quot;</code></pre>
<div class="sourceCode" id="section-cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb170-1"><a href="section-data-types-in-r.html#section-cb170-1"></a><span class="co"># less extreme.  More true</span></span>
<span id="section-cb170-2"><a href="section-data-types-in-r.html#section-cb170-2"></a></span>
<span id="section-cb170-3"><a href="section-data-types-in-r.html#section-cb170-3"></a><span class="kw">gsub</span>(<span class="st">&quot; is my life&quot;</span>, <span class="st">&quot;&quot;</span>, extreme.statement)</span></code></pre></div>
<pre><code>## [1] &quot;Coding&quot;</code></pre>
<p>Tips for using strings:</p>
<ul>
<li>If you are doing a lot with strings try the library ‘strgr’, which has some user-friendly functions</li>
<li>If you include ‘’ in a string, in many instances it will be a carriage return/new line (e.g., plotting)</li>
<li>A very common programming error is to forget a closing quotation mark. This will make the computer think you are still making a giantly long string.</li>
</ul>
</div>
<div id="section-matrices" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Matrices</h2>
<p>A matrix is just a collection of vectors</p>
<p>You can combine vectors by column using ‘cbind’</p>
<div class="sourceCode" id="section-cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb172-1"><a href="section-data-types-in-r.html#section-cb172-1"></a>m1 &lt;-<span class="st"> </span><span class="kw">cbind</span>(vap, tv) </span>
<span id="section-cb172-2"><a href="section-data-types-in-r.html#section-cb172-2"></a><span class="kw">head</span>(m1)</span></code></pre></div>
<pre><code>##           vap      tv
## [1,]  3481823      NA
## [2,]   496387  238307
## [3,]  4582842 1553032
## [4,]  2120139  780409
## [5,] 26955438 8899059
## [6,]  3617942 1586105</code></pre>
<p>Or you can combine by rows using ‘rbind’</p>
<div class="sourceCode" id="section-cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb174-1"><a href="section-data-types-in-r.html#section-cb174-1"></a>m2 &lt;-<span class="st"> </span><span class="kw">rbind</span>(vap, tv)</span>
<span id="section-cb174-2"><a href="section-data-types-in-r.html#section-cb174-2"></a><span class="kw">head</span>(m2)</span></code></pre></div>
<pre><code>##        [,1]   [,2]    [,3]    [,4]     [,5]    [,6]    [,7]   [,8]   [,9]
## vap 3481823 496387 4582842 2120139 26955438 3617942 2673154 652189 472143
## tv       NA 238307 1553032  780409  8899059 1586105 1162391 258053 122356
##        [,10]   [,11]  [,12]   [,13]   [,14]   [,15]   [,16]   [,17]   [,18]
## vap 14085749 6915512 995937 1073799 9600372 4732010 2265860 2068253 3213141
## tv   4884544 2143845 348988  458927 3586292 1719351 1071509  864083 1370062
##       [,19]   [,20]   [,21]   [,22]   [,23]   [,24]   [,25]   [,26]  [,27]
## vap 3188765 1033632 4242214 4997677 7620982 3908159 2139918 4426278 731365
## tv   954896      NA 1809237 2243835 3852008 2217552      NA 2178278 411061
##       [,28]   [,29]   [,30]   [,31]   [,32]    [,33]   [,34]  [,35]   [,36]
## vap 1321923 1870315 1012033 6598368 1452962 14838076 6752018 494923 8697456
## tv   610499  586274  418550 2315643  568597  4703830 2036451 220479 4184072
##       [,37]   [,38]   [,39]  [,40]   [,41]  [,42]   [,43]    [,44]   [,45]
## vap 2697855 2850525 9612380 824854 3303593 594599 4636679 17038979 1797941
## tv       NA 1399650      NA 392882 1117311 341105 1868363       NA  582561
##      [,46]   [,47]   [,48]   [,49]   [,50]  [,51]
## vap 487900 5841335 4876661 1421717 4257230 392344
## tv  263025 2398589 2085074  473014 2183155 196217</code></pre>
<p>We can access by ‘matrixname[row, column]’</p>
<div class="sourceCode" id="section-cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb176-1"><a href="section-data-types-in-r.html#section-cb176-1"></a>m2[<span class="dv">1</span>,<span class="dv">2</span>] <span class="co"># first row, second column</span></span></code></pre></div>
<pre><code>##    vap 
## 496387</code></pre>
<div class="sourceCode" id="section-cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb178-1"><a href="section-data-types-in-r.html#section-cb178-1"></a>m1[,<span class="dv">1</span>] <span class="co"># the 1st column</span></span></code></pre></div>
<pre><code>##  [1]  3481823   496387  4582842  2120139 26955438  3617942  2673154   652189
##  [9]   472143 14085749  6915512   995937  1073799  9600372  4732010  2265860
## [17]  2068253  3213141  3188765  1033632  4242214  4997677  7620982  3908159
## [25]  2139918  4426278   731365  1321923  1870315  1012033  6598368  1452962
## [33] 14838076  6752018   494923  8697456  2697855  2850525  9612380   824854
## [41]  3303593   594599  4636679 17038979  1797941   487900  5841335  4876661
## [49]  1421717  4257230   392344</code></pre>
<p>Can get a submatrix</p>
<div class="sourceCode" id="section-cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb180-1"><a href="section-data-types-in-r.html#section-cb180-1"></a>m1[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>##           vap      tv
## [1,]  3481823      NA
## [2,]   496387  238307
## [3,]  4582842 1553032
## [4,]  2120139  780409
## [5,] 26955438 8899059</code></pre>
<div class="sourceCode" id="section-cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb182-1"><a href="section-data-types-in-r.html#section-cb182-1"></a>m2[<span class="dv">1</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1]  3481823   496387  4582842  2120139 26955438  3617942  2673154   652189
##  [9]   472143 14085749</code></pre>
<div class="sourceCode" id="section-cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb184-1"><a href="section-data-types-in-r.html#section-cb184-1"></a>m2[<span class="dv">1</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1]  3481823   496387  4582842  2120139 26955438  3617942  2673154   652189
##  [9]   472143 14085749</code></pre>
<div class="sourceCode" id="section-cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb186-1"><a href="section-data-types-in-r.html#section-cb186-1"></a>m2[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##        [,1]   [,2]    [,3]    [,4]     [,5]    [,6]    [,7]   [,8]   [,9]
## vap 3481823 496387 4582842 2120139 26955438 3617942 2673154 652189 472143
## tv       NA 238307 1553032  780409  8899059 1586105 1162391 258053 122356
##        [,10]
## vap 14085749
## tv   4884544</code></pre>
<div class="sourceCode" id="section-cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb188-1"><a href="section-data-types-in-r.html#section-cb188-1"></a>m2[, <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>] <span class="co"># same as previous line since there are only two rows.</span></span></code></pre></div>
<pre><code>##        [,1]   [,2]    [,3]    [,4]     [,5]    [,6]    [,7]   [,8]   [,9]
## vap 3481823 496387 4582842 2120139 26955438 3617942 2673154 652189 472143
## tv       NA 238307 1553032  780409  8899059 1586105 1162391 258053 122356
##        [,10]
## vap 14085749
## tv   4884544</code></pre>
<div class="sourceCode" id="section-cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb190-1"><a href="section-data-types-in-r.html#section-cb190-1"></a><span class="kw">class</span>(m2)</span></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<p>Objects in R are simply pieces of data that contain specific attributes.</p>
<p>Classes define what attributes an object <em>must</em> have and <em>can</em> have.</p>
<p>Matrices always have an attribute that stores the number of rows and columns</p>
<div class="sourceCode" id="section-cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb192-1"><a href="section-data-types-in-r.html#section-cb192-1"></a><span class="kw">dim</span>(m1) </span></code></pre></div>
<pre><code>## [1] 51  2</code></pre>
<p>For any object you can look at it’s attributes using (helpfully) the ‘attributes’ function</p>
<div class="sourceCode" id="section-cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb194-1"><a href="section-data-types-in-r.html#section-cb194-1"></a><span class="kw">attributes</span>(m1) </span></code></pre></div>
<pre><code>## $dim
## [1] 51  2
## 
## $dimnames
## $dimnames[[1]]
## NULL
## 
## $dimnames[[2]]
## [1] &quot;vap&quot; &quot;tv&quot;</code></pre>
<p>We see that the matrix also has another attribute</p>
<div class="sourceCode" id="section-cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb196-1"><a href="section-data-types-in-r.html#section-cb196-1"></a><span class="kw">dimnames</span>(m1) </span></code></pre></div>
<pre><code>## [[1]]
## NULL
## 
## [[2]]
## [1] &quot;vap&quot; &quot;tv&quot;</code></pre>
<p>The top refers to the row names (which do not exist)
The bottom are the column names (that were borrowed from the vectors used to construct the matrix).</p>
<p>You can also access these using functions</p>
<div class="sourceCode" id="section-cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb198-1"><a href="section-data-types-in-r.html#section-cb198-1"></a><span class="kw">colnames</span>(m1)</span></code></pre></div>
<pre><code>## [1] &quot;vap&quot; &quot;tv&quot;</code></pre>
<div class="sourceCode" id="section-cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb200-1"><a href="section-data-types-in-r.html#section-cb200-1"></a><span class="kw">colnames</span>(m2)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="section-cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb202-1"><a href="section-data-types-in-r.html#section-cb202-1"></a><span class="kw">rownames</span>(m1)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="section-cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb204-1"><a href="section-data-types-in-r.html#section-cb204-1"></a><span class="kw">rownames</span>(m2)</span></code></pre></div>
<pre><code>## [1] &quot;vap&quot; &quot;tv&quot;</code></pre>
<p>And you can assign these using the same functions</p>
<div class="sourceCode" id="section-cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb206-1"><a href="section-data-types-in-r.html#section-cb206-1"></a><span class="kw">colnames</span>(m1) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Voting age population&quot;</span>, <span class="st">&quot;Total Votes&quot;</span>)</span>
<span id="section-cb206-2"><a href="section-data-types-in-r.html#section-cb206-2"></a><span class="kw">colnames</span>(m1)</span></code></pre></div>
<pre><code>## [1] &quot;Voting age population&quot; &quot;Total Votes&quot;</code></pre>
<p>You can also do this with the following</p>
<div class="sourceCode" id="section-cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb208-1"><a href="section-data-types-in-r.html#section-cb208-1"></a><span class="kw">dimnames</span>(m1)[[<span class="dv">2</span>]][<span class="dv">1</span>] &lt;-<span class="st"> &quot;Pigglywiggly&quot;</span></span>
<span id="section-cb208-2"><a href="section-data-types-in-r.html#section-cb208-2"></a><span class="kw">head</span>(m1) </span></code></pre></div>
<pre><code>##      Pigglywiggly Total Votes
## [1,]      3481823          NA
## [2,]       496387      238307
## [3,]      4582842     1553032
## [4,]      2120139      780409
## [5,]     26955438     8899059
## [6,]      3617942     1586105</code></pre>
<p>We have re-named the first column to have the name “Pigglywiggly”</p>
<p>We are able to do this because the output of ‘dimnames’ is a list</p>
<p>You can subset matrices with a boolean/logical matrix to get certain values from it just like you would a vector</p>
<p>Matrices (and vectors) can only contain one datatype</p>
<p>If you try to create one with multiple datatypes, it will convert everything to be the same datatype</p>
</div>
<div id="section-matrix-algebra-optional" class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> Matrix algebra (optional)</h2>
<p>A couple of matrices</p>
<div class="sourceCode" id="section-cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb210-1"><a href="section-data-types-in-r.html#section-cb210-1"></a>H3 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span><span class="op">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="op">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="op">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="op">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="op">/</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="op">/</span><span class="dv">4</span>, <span class="dv">1</span><span class="op">/</span><span class="dv">5</span>), <span class="dt">nrow=</span><span class="dv">3</span>)</span>
<span id="section-cb210-2"><a href="section-data-types-in-r.html#section-cb210-2"></a>H3</span></code></pre></div>
<pre><code>##           [,1]      [,2]      [,3]
## [1,] 1.0000000 0.5000000 0.3333333
## [2,] 0.5000000 0.3333333 0.2500000
## [3,] 0.3333333 0.2500000 0.2000000</code></pre>
<div class="sourceCode" id="section-cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb212-1"><a href="section-data-types-in-r.html#section-cb212-1"></a><span class="dv">1</span><span class="op">/</span><span class="kw">cbind</span>(<span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">3</span>), <span class="kw">seq</span>(<span class="dv">2</span>, <span class="dv">4</span>), <span class="kw">seq</span>(<span class="dv">3</span>,<span class="dv">5</span>)) <span class="co"># most basic function continue to be &quot;element wise&quot;</span></span></code></pre></div>
<pre><code>##           [,1]      [,2]      [,3]
## [1,] 1.0000000 0.5000000 0.3333333
## [2,] 0.5000000 0.3333333 0.2500000
## [3,] 0.3333333 0.2500000 0.2000000</code></pre>
<div class="sourceCode" id="section-cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb214-1"><a href="section-data-types-in-r.html#section-cb214-1"></a>H3<span class="op">+</span><span class="dv">1</span></span></code></pre></div>
<pre><code>##          [,1]     [,2]     [,3]
## [1,] 2.000000 1.500000 1.333333
## [2,] 1.500000 1.333333 1.250000
## [3,] 1.333333 1.250000 1.200000</code></pre>
<div class="sourceCode" id="section-cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb216-1"><a href="section-data-types-in-r.html#section-cb216-1"></a>H3<span class="op">*</span><span class="dv">2</span></span></code></pre></div>
<pre><code>##           [,1]      [,2]      [,3]
## [1,] 2.0000000 1.0000000 0.6666667
## [2,] 1.0000000 0.6666667 0.5000000
## [3,] 0.6666667 0.5000000 0.4000000</code></pre>
<div class="sourceCode" id="section-cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb218-1"><a href="section-data-types-in-r.html#section-cb218-1"></a>H3<span class="op">^</span><span class="dv">2</span></span></code></pre></div>
<pre><code>##           [,1]      [,2]      [,3]
## [1,] 1.0000000 0.2500000 0.1111111
## [2,] 0.2500000 0.1111111 0.0625000
## [3,] 0.1111111 0.0625000 0.0400000</code></pre>
<div class="sourceCode" id="section-cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb220-1"><a href="section-data-types-in-r.html#section-cb220-1"></a><span class="kw">mean</span>(H3) <span class="co"># others will treat the matrix as a vector no matter what</span></span></code></pre></div>
<pre><code>## [1] 0.4111111</code></pre>
<div class="sourceCode" id="section-cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb222-1"><a href="section-data-types-in-r.html#section-cb222-1"></a><span class="kw">rowSums</span>(H3) <span class="co"># others work on matrices in particular ways (more on this later)</span></span></code></pre></div>
<pre><code>## [1] 1.8333333 1.0833333 0.7833333</code></pre>
<div class="sourceCode" id="section-cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb224-1"><a href="section-data-types-in-r.html#section-cb224-1"></a><span class="kw">colSums</span>(H3)</span></code></pre></div>
<pre><code>## [1] 1.8333333 1.0833333 0.7833333</code></pre>
<div class="sourceCode" id="section-cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb226-1"><a href="section-data-types-in-r.html#section-cb226-1"></a><span class="kw">rowMeans</span>(H3)</span></code></pre></div>
<pre><code>## [1] 0.6111111 0.3611111 0.2611111</code></pre>
<div class="sourceCode" id="section-cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb228-1"><a href="section-data-types-in-r.html#section-cb228-1"></a><span class="kw">colMeans</span>(H3)</span></code></pre></div>
<pre><code>## [1] 0.6111111 0.3611111 0.2611111</code></pre>
<p>Logicals work too</p>
<div class="sourceCode" id="section-cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb230-1"><a href="section-data-types-in-r.html#section-cb230-1"></a>H3 <span class="op">==</span><span class="st"> </span><span class="dv">1</span></span></code></pre></div>
<pre><code>##       [,1]  [,2]  [,3]
## [1,]  TRUE FALSE FALSE
## [2,] FALSE FALSE FALSE
## [3,] FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="section-cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb232-1"><a href="section-data-types-in-r.html#section-cb232-1"></a>H3 <span class="op">==</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="co"># wha...?</span></span></code></pre></div>
<pre><code>##       [,1]  [,2]  [,3]
## [1,]  TRUE FALSE FALSE
## [2,] FALSE FALSE FALSE
## [3,] FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="section-cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb234-1"><a href="section-data-types-in-r.html#section-cb234-1"></a>H3 <span class="op">==</span><span class="st"> </span>H3</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,] TRUE TRUE TRUE
## [2,] TRUE TRUE TRUE
## [3,] TRUE TRUE TRUE</code></pre>
<p>Some work like they do in the math books</p>
<div class="sourceCode" id="section-cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb236-1"><a href="section-data-types-in-r.html#section-cb236-1"></a><span class="kw">det</span>(H3) <span class="co"># the determinant -- hard for you ... easy in R</span></span></code></pre></div>
<pre><code>## [1] 0.000462963</code></pre>
<div class="sourceCode" id="section-cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb238-1"><a href="section-data-types-in-r.html#section-cb238-1"></a><span class="kw">diag</span>(H3) <span class="co"># get the diagonal elements of amatrix</span></span></code></pre></div>
<pre><code>## [1] 1.0000000 0.3333333 0.2000000</code></pre>
<div class="sourceCode" id="section-cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb240-1"><a href="section-data-types-in-r.html#section-cb240-1"></a><span class="kw">diag</span>(<span class="dv">1</span>, <span class="dt">nrow=</span><span class="dv">3</span>) <span class="co"># make a 3 by 3 identity matrix</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    0    0
## [2,]    0    1    0
## [3,]    0    0    1</code></pre>
<div class="sourceCode" id="section-cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb242-1"><a href="section-data-types-in-r.html#section-cb242-1"></a><span class="kw">t</span>(H3) <span class="co"># matrix transpose</span></span></code></pre></div>
<pre><code>##           [,1]      [,2]      [,3]
## [1,] 1.0000000 0.5000000 0.3333333
## [2,] 0.5000000 0.3333333 0.2500000
## [3,] 0.3333333 0.2500000 0.2000000</code></pre>
<div class="sourceCode" id="section-cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb244-1"><a href="section-data-types-in-r.html#section-cb244-1"></a>Hnew &lt;-<span class="st"> </span>H3</span>
<span id="section-cb244-2"><a href="section-data-types-in-r.html#section-cb244-2"></a>Hnew[<span class="kw">lower.tri</span>(H3, <span class="dt">diag=</span><span class="ot">TRUE</span>)] <span class="co"># extract the lower triangular elements of H3</span></span></code></pre></div>
<pre><code>## [1] 1.0000000 0.5000000 0.3333333 0.3333333 0.2500000 0.2000000</code></pre>
<div class="sourceCode" id="section-cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb246-1"><a href="section-data-types-in-r.html#section-cb246-1"></a><span class="co"># Get the trace</span></span>
<span id="section-cb246-2"><a href="section-data-types-in-r.html#section-cb246-2"></a>trace &lt;-<span class="st"> </span><span class="cf">function</span>(data) (<span class="kw">sum</span>(<span class="kw">diag</span>(data))) <span class="co"># our own little function .. more on this next time</span></span>
<span id="section-cb246-3"><a href="section-data-types-in-r.html#section-cb246-3"></a><span class="kw">trace</span>(H3)</span></code></pre></div>
<pre><code>## [1] 1.533333</code></pre>
<div class="sourceCode" id="section-cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb248-1"><a href="section-data-types-in-r.html#section-cb248-1"></a><span class="co"># Matrix multipication is %*%</span></span>
<span id="section-cb248-2"><a href="section-data-types-in-r.html#section-cb248-2"></a><span class="kw">t</span>(H3) <span class="op">%*%</span><span class="st"> </span>H3</span></code></pre></div>
<pre><code>##          [,1]      [,2]      [,3]
## [1,] 1.361111 0.7500000 0.5250000
## [2,] 0.750000 0.4236111 0.3000000
## [3,] 0.525000 0.3000000 0.2136111</code></pre>
<div class="sourceCode" id="section-cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb250-1"><a href="section-data-types-in-r.html#section-cb250-1"></a><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="op">%*%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="co"># dot product</span></span></code></pre></div>
<pre><code>##      [,1]
## [1,]   14</code></pre>
<div class="sourceCode" id="section-cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb252-1"><a href="section-data-types-in-r.html#section-cb252-1"></a><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="dt">ncol=</span><span class="dv">1</span>) <span class="op">%*%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="co"># outer product</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    2    4    6
## [3,]    3    6    9</code></pre>
<div class="sourceCode" id="section-cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb254-1"><a href="section-data-types-in-r.html#section-cb254-1"></a><span class="co">#matrix inversion</span></span>
<span id="section-cb254-2"><a href="section-data-types-in-r.html#section-cb254-2"></a><span class="kw">solve</span>(H3)</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    9  -36   30
## [2,]  -36  192 -180
## [3,]   30 -180  180</code></pre>
<div class="sourceCode" id="section-cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb256-1"><a href="section-data-types-in-r.html#section-cb256-1"></a>invH3 &lt;-<span class="st"> </span><span class="kw">solve</span>(H3)</span>
<span id="section-cb256-2"><a href="section-data-types-in-r.html#section-cb256-2"></a>H3<span class="op">%*%</span>invH3 <span class="co">## close enough?</span></span></code></pre></div>
<pre><code>##              [,1]          [,2] [,3]
## [1,] 1.000000e+00  0.000000e+00    0
## [2,] 8.881784e-16  1.000000e+00    0
## [3,] 0.000000e+00 -7.105427e-15    1</code></pre>
<div class="sourceCode" id="section-cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb258-1"><a href="section-data-types-in-r.html#section-cb258-1"></a><span class="co"># Why is it called solve?  It can also be used to solve linear systems.</span></span>
<span id="section-cb258-2"><a href="section-data-types-in-r.html#section-cb258-2"></a>b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="section-cb258-3"><a href="section-data-types-in-r.html#section-cb258-3"></a>b</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="section-cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb260-1"><a href="section-data-types-in-r.html#section-cb260-1"></a><span class="kw">solve</span>(H3, b)</span></code></pre></div>
<pre><code>## [1]   27 -192  210</code></pre>
</div>
<div id="section-lists" class="section level2" number="3.8">
<h2><span class="header-section-number">3.8</span> Lists</h2>
<p>Let’s make a list that contains a <em>matrix</em>, a <em>vector</em>, and an <em>integer</em>.</p>
<div class="sourceCode" id="section-cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb262-1"><a href="section-data-types-in-r.html#section-cb262-1"></a>list.a &lt;-<span class="st"> </span><span class="kw">list</span>(m1, vap, <span class="dv">3</span>) </span>
<span id="section-cb262-2"><a href="section-data-types-in-r.html#section-cb262-2"></a><span class="kw">str</span>(list.a)</span></code></pre></div>
<pre><code>## List of 3
##  $ : num [1:51, 1:2] 3481823 496387 4582842 2120139 26955438 ...
##   ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. ..$ : NULL
##   .. ..$ : chr [1:2] &quot;Pigglywiggly&quot; &quot;Total Votes&quot;
##  $ : num [1:51] 3481823 496387 4582842 2120139 26955438 ...
##  $ : num 3</code></pre>
<p>This is the advantage of lists. They can contain basically anything, even other lists</p>
<div class="sourceCode" id="section-cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb264-1"><a href="section-data-types-in-r.html#section-cb264-1"></a>vector1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="section-cb264-2"><a href="section-data-types-in-r.html#section-cb264-2"></a>gospels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;matthew&quot;</span>,<span class="st">&quot;mark&quot;</span>,<span class="st">&quot;luke&quot;</span>, <span class="st">&quot;john&quot;</span>)</span>
<span id="section-cb264-3"><a href="section-data-types-in-r.html#section-cb264-3"></a>my.matrix &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>), <span class="dt">nrow=</span><span class="dv">4</span>)</span>
<span id="section-cb264-4"><a href="section-data-types-in-r.html#section-cb264-4"></a>my.data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">cbind</span>(vap, tv))</span>
<span id="section-cb264-5"><a href="section-data-types-in-r.html#section-cb264-5"></a>my.crazy.list &lt;-<span class="st"> </span><span class="kw">list</span>(vector1, gospels, my.matrix, <span class="ot">TRUE</span>, list.a)</span>
<span id="section-cb264-6"><a href="section-data-types-in-r.html#section-cb264-6"></a><span class="kw">str</span>(my.crazy.list)</span></code></pre></div>
<pre><code>## List of 5
##  $ : num [1:3] 1 2 3
##  $ : chr [1:4] &quot;matthew&quot; &quot;mark&quot; &quot;luke&quot; &quot;john&quot;
##  $ : int [1:4, 1:5] 1 2 3 4 5 6 7 8 9 10 ...
##  $ : logi TRUE
##  $ :List of 3
##   ..$ : num [1:51, 1:2] 3481823 496387 4582842 2120139 26955438 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : NULL
##   .. .. ..$ : chr [1:2] &quot;Pigglywiggly&quot; &quot;Total Votes&quot;
##   ..$ : num [1:51] 3481823 496387 4582842 2120139 26955438 ...
##   ..$ : num 3</code></pre>
<p>Lists have attributes but we haven’t set them yet</p>
<div class="sourceCode" id="section-cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb266-1"><a href="section-data-types-in-r.html#section-cb266-1"></a><span class="kw">attributes</span>(my.crazy.list) </span></code></pre></div>
<pre><code>## NULL</code></pre>
<p>This reports the number of major sub-elements in the list.</p>
<div class="sourceCode" id="section-cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb268-1"><a href="section-data-types-in-r.html#section-cb268-1"></a><span class="kw">length</span>(my.crazy.list) </span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>This won’t work for complicated lists</p>
<div class="sourceCode" id="section-cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb270-1"><a href="section-data-types-in-r.html#section-cb270-1"></a><span class="kw">dim</span>(my.crazy.list) </span></code></pre></div>
<pre><code>## NULL</code></pre>
<p>We can give names to elements of a list</p>
<div class="sourceCode" id="section-cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb272-1"><a href="section-data-types-in-r.html#section-cb272-1"></a><span class="kw">names</span>(my.crazy.list)&lt;-<span class="kw">c</span>(<span class="st">&quot;OneTwoThree&quot;</span>, <span class="st">&quot;Gospels&quot;</span>, </span>
<span id="section-cb272-2"><a href="section-data-types-in-r.html#section-cb272-2"></a>                        <span class="st">&quot;SmallMat&quot;</span>, <span class="st">&quot;OneLogical&quot;</span>, <span class="st">&quot;AnotherList&quot;</span>)</span>
<span id="section-cb272-3"><a href="section-data-types-in-r.html#section-cb272-3"></a><span class="kw">str</span>(my.crazy.list) </span></code></pre></div>
<pre><code>## List of 5
##  $ OneTwoThree: num [1:3] 1 2 3
##  $ Gospels    : chr [1:4] &quot;matthew&quot; &quot;mark&quot; &quot;luke&quot; &quot;john&quot;
##  $ SmallMat   : int [1:4, 1:5] 1 2 3 4 5 6 7 8 9 10 ...
##  $ OneLogical : logi TRUE
##  $ AnotherList:List of 3
##   ..$ : num [1:51, 1:2] 3481823 496387 4582842 2120139 26955438 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : NULL
##   .. .. ..$ : chr [1:2] &quot;Pigglywiggly&quot; &quot;Total Votes&quot;
##   ..$ : num [1:51] 3481823 496387 4582842 2120139 26955438 ...
##   ..$ : num 3</code></pre>
<p>Now each part of the list has a name attribute</p>
<p>Skip the steps above by doing the following:</p>
<div class="sourceCode" id="section-cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb274-1"><a href="section-data-types-in-r.html#section-cb274-1"></a>my.crazy.list&lt;-<span class="kw">list</span>(<span class="dt">OneTwoThree=</span>vector1,</span>
<span id="section-cb274-2"><a href="section-data-types-in-r.html#section-cb274-2"></a>                    <span class="dt">Gospels=</span>gospels, </span>
<span id="section-cb274-3"><a href="section-data-types-in-r.html#section-cb274-3"></a>                    <span class="dt">SmallMat=</span>my.matrix, </span>
<span id="section-cb274-4"><a href="section-data-types-in-r.html#section-cb274-4"></a>                    <span class="dt">OneLogical=</span><span class="ot">TRUE</span>, </span>
<span id="section-cb274-5"><a href="section-data-types-in-r.html#section-cb274-5"></a>                    <span class="dt">AnotherList=</span>list.a)</span>
<span id="section-cb274-6"><a href="section-data-types-in-r.html#section-cb274-6"></a><span class="kw">str</span>(my.crazy.list)</span></code></pre></div>
<pre><code>## List of 5
##  $ OneTwoThree: num [1:3] 1 2 3
##  $ Gospels    : chr [1:4] &quot;matthew&quot; &quot;mark&quot; &quot;luke&quot; &quot;john&quot;
##  $ SmallMat   : int [1:4, 1:5] 1 2 3 4 5 6 7 8 9 10 ...
##  $ OneLogical : logi TRUE
##  $ AnotherList:List of 3
##   ..$ : num [1:51, 1:2] 3481823 496387 4582842 2120139 26955438 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : NULL
##   .. .. ..$ : chr [1:2] &quot;Pigglywiggly&quot; &quot;Total Votes&quot;
##   ..$ : num [1:51] 3481823 496387 4582842 2120139 26955438 ...
##   ..$ : num 3</code></pre>
<div class="sourceCode" id="section-cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb276-1"><a href="section-data-types-in-r.html#section-cb276-1"></a><span class="kw">names</span>(my.crazy.list)</span></code></pre></div>
<pre><code>## [1] &quot;OneTwoThree&quot; &quot;Gospels&quot;     &quot;SmallMat&quot;    &quot;OneLogical&quot;  &quot;AnotherList&quot;</code></pre>
<p>There are at least four ways of accessing elements of a list</p>
<div class="sourceCode" id="section-cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb278-1"><a href="section-data-types-in-r.html#section-cb278-1"></a>my.crazy.list[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="section-cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb280-1"><a href="section-data-types-in-r.html#section-cb280-1"></a>my.crazy.list<span class="op">$</span>OneTwoThree</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="section-cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb282-1"><a href="section-data-types-in-r.html#section-cb282-1"></a>my.crazy.list[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## $OneTwoThree
## [1] 1 2 3</code></pre>
<div class="sourceCode" id="section-cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb284-1"><a href="section-data-types-in-r.html#section-cb284-1"></a>my.crazy.list[<span class="st">&quot;OneTwoThree&quot;</span>]</span></code></pre></div>
<pre><code>## $OneTwoThree
## [1] 1 2 3</code></pre>
<p>You can add elements in a similarly confusing number of ways</p>
<div class="sourceCode" id="section-cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb286-1"><a href="section-data-types-in-r.html#section-cb286-1"></a>my.crazy.list<span class="op">$</span>hocuspocus&lt;-<span class="st">&quot;hocuspocus&quot;</span></span>
<span id="section-cb286-2"><a href="section-data-types-in-r.html#section-cb286-2"></a><span class="kw">str</span>(my.crazy.list)</span></code></pre></div>
<pre><code>## List of 6
##  $ OneTwoThree: num [1:3] 1 2 3
##  $ Gospels    : chr [1:4] &quot;matthew&quot; &quot;mark&quot; &quot;luke&quot; &quot;john&quot;
##  $ SmallMat   : int [1:4, 1:5] 1 2 3 4 5 6 7 8 9 10 ...
##  $ OneLogical : logi TRUE
##  $ AnotherList:List of 3
##   ..$ : num [1:51, 1:2] 3481823 496387 4582842 2120139 26955438 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : NULL
##   .. .. ..$ : chr [1:2] &quot;Pigglywiggly&quot; &quot;Total Votes&quot;
##   ..$ : num [1:51] 3481823 496387 4582842 2120139 26955438 ...
##   ..$ : num 3
##  $ hocuspocus : chr &quot;hocuspocus&quot;</code></pre>
<p>You can also access access/add to/subtract from the sub-elements themselves. We just add what we know about accessing elements of matrices/vectors/etc. to how we access lists.</p>
<div class="sourceCode" id="section-cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb288-1"><a href="section-data-types-in-r.html#section-cb288-1"></a>my.crazy.list[[<span class="dv">3</span>]][<span class="dv">1</span>,] <span class="co"># first row of my.matrix</span></span></code></pre></div>
<pre><code>## [1]  1  5  9 13 17</code></pre>
<div class="sourceCode" id="section-cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb290-1"><a href="section-data-types-in-r.html#section-cb290-1"></a>my.matrix[<span class="dv">1</span>,]  <span class="co">#the same</span></span></code></pre></div>
<pre><code>## [1]  1  5  9 13 17</code></pre>
<p>But lists don’t play well with basic commands. Only components of lists.</p>
<div class="sourceCode" id="section-cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb292-1"><a href="section-data-types-in-r.html#section-cb292-1"></a><span class="co">#this won&#39;t work</span></span>
<span id="section-cb292-2"><a href="section-data-types-in-r.html#section-cb292-2"></a><span class="co">#my.crazy.list + 2</span></span>
<span id="section-cb292-3"><a href="section-data-types-in-r.html#section-cb292-3"></a></span>
<span id="section-cb292-4"><a href="section-data-types-in-r.html#section-cb292-4"></a><span class="co">#but this will!</span></span>
<span id="section-cb292-5"><a href="section-data-types-in-r.html#section-cb292-5"></a>my.crazy.list[[<span class="dv">3</span>]] <span class="op">+</span><span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    3    7   11   15   19
## [2,]    4    8   12   16   20
## [3,]    5    9   13   17   21
## [4,]    6   10   14   18   22</code></pre>
</div>
<div id="section-arrays" class="section level2" number="3.9">
<h2><span class="header-section-number">3.9</span> Arrays</h2>
<p>Arrays are effectively matrices that can have more than 2 dimensions. An array with exactly two dimensions is a matrix.</p>
<p>The following example creates an array of two 3x4 matrices each with 3 rows and 4 columns.</p>
<div class="sourceCode" id="section-cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb294-1"><a href="section-data-types-in-r.html#section-cb294-1"></a><span class="co"># Take the sequence from 1 to 24 as input to the array.</span></span>
<span id="section-cb294-2"><a href="section-data-types-in-r.html#section-cb294-2"></a>result &lt;-<span class="st"> </span><span class="kw">array</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">24</span>, <span class="dt">dim=</span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>))</span>
<span id="section-cb294-3"><a href="section-data-types-in-r.html#section-cb294-3"></a>result</span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4]
## [1,]    1    4    7   10
## [2,]    2    5    8   11
## [3,]    3    6    9   12
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4]
## [1,]   13   16   19   22
## [2,]   14   17   20   23
## [3,]   15   18   21   24</code></pre>
<div class="sourceCode" id="section-cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb296-1"><a href="section-data-types-in-r.html#section-cb296-1"></a><span class="co"># You can also name all of the dimensions.</span></span>
<span id="section-cb296-2"><a href="section-data-types-in-r.html#section-cb296-2"></a>column.names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;COL1&quot;</span>,<span class="st">&quot;COL2&quot;</span>,<span class="st">&quot;COL3&quot;</span>,<span class="st">&quot;COL4&quot;</span>)</span>
<span id="section-cb296-3"><a href="section-data-types-in-r.html#section-cb296-3"></a>row.names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ROW1&quot;</span>,<span class="st">&quot;ROW2&quot;</span>,<span class="st">&quot;ROW3&quot;</span>)</span>
<span id="section-cb296-4"><a href="section-data-types-in-r.html#section-cb296-4"></a>matrix.names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Matrix1&quot;</span>,<span class="st">&quot;Matrix2&quot;</span>)</span>
<span id="section-cb296-5"><a href="section-data-types-in-r.html#section-cb296-5"></a></span>
<span id="section-cb296-6"><a href="section-data-types-in-r.html#section-cb296-6"></a>result2 &lt;-<span class="st"> </span><span class="kw">array</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">24</span>, <span class="dt">dim=</span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>), <span class="dt">dimnames=</span><span class="kw">list</span>(row.names, column.names, matrix.names))</span>
<span id="section-cb296-7"><a href="section-data-types-in-r.html#section-cb296-7"></a>result2</span></code></pre></div>
<pre><code>## , , Matrix1
## 
##      COL1 COL2 COL3 COL4
## ROW1    1    4    7   10
## ROW2    2    5    8   11
## ROW3    3    6    9   12
## 
## , , Matrix2
## 
##      COL1 COL2 COL3 COL4
## ROW1   13   16   19   22
## ROW2   14   17   20   23
## ROW3   15   18   21   24</code></pre>
<div class="sourceCode" id="section-cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb298-1"><a href="section-data-types-in-r.html#section-cb298-1"></a><span class="co"># Print the third row of the second matrix of the array.</span></span>
<span id="section-cb298-2"><a href="section-data-types-in-r.html#section-cb298-2"></a>result[<span class="dv">3</span>,,<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 15 18 21 24</code></pre>
<div class="sourceCode" id="section-cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb300-1"><a href="section-data-types-in-r.html#section-cb300-1"></a><span class="co"># Print the element in the 1st row and 3rd column of the 1st matrix.</span></span>
<span id="section-cb300-2"><a href="section-data-types-in-r.html#section-cb300-2"></a>result[<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<div class="sourceCode" id="section-cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb302-1"><a href="section-data-types-in-r.html#section-cb302-1"></a><span class="co"># Print the 2nd Matrix.</span></span>
<span id="section-cb302-2"><a href="section-data-types-in-r.html#section-cb302-2"></a>result[,,<span class="dv">2</span>]</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]   13   16   19   22
## [2,]   14   17   20   23
## [3,]   15   18   21   24</code></pre>
</div>
<div id="section-dataframes" class="section level2" number="3.10">
<h2><span class="header-section-number">3.10</span> Dataframes</h2>
<p>They are rectangular like a matrix, but each column can be of a different class and you can access elements of the data frame like it’s a list.</p>
<div class="sourceCode" id="section-cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb304-1"><a href="section-data-types-in-r.html#section-cb304-1"></a>turnout &lt;-<span class="st"> </span>tv<span class="op">/</span>vap</span>
<span id="section-cb304-2"><a href="section-data-types-in-r.html#section-cb304-2"></a>voting.data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(tv, vap, turnout)</span>
<span id="section-cb304-3"><a href="section-data-types-in-r.html#section-cb304-3"></a><span class="kw">head</span>(voting.data)</span></code></pre></div>
<pre><code>##        tv      vap   turnout
## 1      NA  3481823        NA
## 2  238307   496387 0.4800831
## 3 1553032  4582842 0.3388797
## 4  780409  2120139 0.3680933
## 5 8899059 26955438 0.3301397
## 6 1586105  3617942 0.4383998</code></pre>
<div class="sourceCode" id="section-cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb306-1"><a href="section-data-types-in-r.html#section-cb306-1"></a><span class="kw">str</span>(voting.data)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    51 obs. of  3 variables:
##  $ tv     : num  NA 238307 1553032 780409 8899059 ...
##  $ vap    : num  3481823 496387 4582842 2120139 26955438 ...
##  $ turnout: num  NA 0.48 0.339 0.368 0.33 ...</code></pre>
<p>There are at least four ways to access a variable</p>
<div class="sourceCode" id="section-cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb308-1"><a href="section-data-types-in-r.html#section-cb308-1"></a><span class="kw">head</span>(voting.data[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>## [1]      NA  238307 1553032  780409 8899059 1586105</code></pre>
<div class="sourceCode" id="section-cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb310-1"><a href="section-data-types-in-r.html#section-cb310-1"></a><span class="kw">head</span>(voting.data<span class="op">$</span>tv)</span></code></pre></div>
<pre><code>## [1]      NA  238307 1553032  780409 8899059 1586105</code></pre>
<div class="sourceCode" id="section-cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb312-1"><a href="section-data-types-in-r.html#section-cb312-1"></a><span class="kw">head</span>(voting.data[<span class="st">&quot;tv&quot;</span>])</span></code></pre></div>
<pre><code>##        tv
## 1      NA
## 2  238307
## 3 1553032
## 4  780409
## 5 8899059
## 6 1586105</code></pre>
<div class="sourceCode" id="section-cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb314-1"><a href="section-data-types-in-r.html#section-cb314-1"></a><span class="kw">head</span>(voting.data[,<span class="dv">1</span>])</span></code></pre></div>
<pre><code>## [1]      NA  238307 1553032  780409 8899059 1586105</code></pre>
<div class="sourceCode" id="section-cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb316-1"><a href="section-data-types-in-r.html#section-cb316-1"></a><span class="kw">names</span>(voting.data) <span class="co">#access the column names</span></span></code></pre></div>
<pre><code>## [1] &quot;tv&quot;      &quot;vap&quot;     &quot;turnout&quot;</code></pre>
<div class="sourceCode" id="section-cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb318-1"><a href="section-data-types-in-r.html#section-cb318-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: dataframes always have column names!!</span></span>
<span id="section-cb318-2"><a href="section-data-types-in-r.html#section-cb318-2"></a></span>
<span id="section-cb318-3"><a href="section-data-types-in-r.html#section-cb318-3"></a><span class="kw">colnames</span>(voting.data)</span></code></pre></div>
<pre><code>## [1] &quot;tv&quot;      &quot;vap&quot;     &quot;turnout&quot;</code></pre>
<p>We can change back and forth between a matrix and a data frame</p>
<div class="sourceCode" id="section-cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb320-1"><a href="section-data-types-in-r.html#section-cb320-1"></a><span class="kw">as.data.frame</span>(my.matrix)</span></code></pre></div>
<pre><code>##   V1 V2 V3 V4 V5
## 1  1  5  9 13 17
## 2  2  6 10 14 18
## 3  3  7 11 15 19
## 4  4  8 12 16 20</code></pre>
<div class="sourceCode" id="section-cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb322-1"><a href="section-data-types-in-r.html#section-cb322-1"></a><span class="kw">data.frame</span>(my.matrix)</span></code></pre></div>
<pre><code>##   X1 X2 X3 X4 X5
## 1  1  5  9 13 17
## 2  2  6 10 14 18
## 3  3  7 11 15 19
## 4  4  8 12 16 20</code></pre>
<div class="sourceCode" id="section-cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb324-1"><a href="section-data-types-in-r.html#section-cb324-1"></a><span class="kw">head</span>(<span class="kw">as.matrix</span>(voting.data))</span></code></pre></div>
<pre><code>##           tv      vap   turnout
## [1,]      NA  3481823        NA
## [2,]  238307   496387 0.4800831
## [3,] 1553032  4582842 0.3388797
## [4,]  780409  2120139 0.3680933
## [5,] 8899059 26955438 0.3301397
## [6,] 1586105  3617942 0.4383998</code></pre>
<ul>
<li>Sometimes all of this can be a bit cumbersome</li>
<li>The ‘with’ command will run a function with the dataset slightly easier</li>
</ul>
<div class="sourceCode" id="section-cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb326-1"><a href="section-data-types-in-r.html#section-cb326-1"></a><span class="co"># these are equivalent</span></span>
<span id="section-cb326-2"><a href="section-data-types-in-r.html#section-cb326-2"></a><span class="kw">mean</span>(voting.data<span class="op">$</span>vap)</span></code></pre></div>
<pre><code>## [1] 4430673</code></pre>
<div class="sourceCode" id="section-cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb328-1"><a href="section-data-types-in-r.html#section-cb328-1"></a><span class="kw">with</span>(voting.data, <span class="kw">mean</span>(vap)) </span></code></pre></div>
<pre><code>## [1] 4430673</code></pre>
</div>
<div id="section-general-info" class="section level2" number="3.11">
<h2><span class="header-section-number">3.11</span> General info</h2>
<p>You can determine the type of a variable by calling class on it as follows</p>
<div class="sourceCode" id="section-cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb330-1"><a href="section-data-types-in-r.html#section-cb330-1"></a><span class="kw">class</span>(vap)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>There are functions to move back and forth between types (‘as.class’ functions)</p>
<div class="sourceCode" id="section-cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb332-1"><a href="section-data-types-in-r.html#section-cb332-1"></a>grp &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;control&quot;</span>, <span class="st">&quot;treatment&quot;</span>, <span class="st">&quot;control&quot;</span>, <span class="st">&quot;treatment&quot;</span>)</span>
<span id="section-cb332-2"><a href="section-data-types-in-r.html#section-cb332-2"></a>grp &lt;-<span class="st"> </span><span class="kw">factor</span>(grp)</span>
<span id="section-cb332-3"><a href="section-data-types-in-r.html#section-cb332-3"></a><span class="kw">as.integer</span>(grp) </span></code></pre></div>
<pre><code>## [1] 1 2 1 2</code></pre>
<p>You can also check if an object is a specific class.</p>
<div class="sourceCode" id="section-cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb334-1"><a href="section-data-types-in-r.html#section-cb334-1"></a><span class="kw">is.integer</span>(vap) </span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="section-cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb336-1"><a href="section-data-types-in-r.html#section-cb336-1"></a><span class="kw">is.numeric</span>(vap)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>There are several types of these</p>
<div class="sourceCode" id="section-cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb338-1"><a href="section-data-types-in-r.html#section-cb338-1"></a><span class="kw">as.character</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">5</span>) <span class="co"># Turning numbers into characters</span></span></code></pre></div>
<pre><code>## [1] &quot;0&quot; &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</code></pre>
<div class="sourceCode" id="section-cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb340-1"><a href="section-data-types-in-r.html#section-cb340-1"></a><span class="kw">as.logical</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">5</span>) <span class="co"># All numbers but &#39;0&#39; become TRUE</span></span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
<p>But not all of them work</p>
<div class="sourceCode" id="section-cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb342-1"><a href="section-data-types-in-r.html#section-cb342-1"></a><span class="kw">as.numeric</span>(<span class="kw">c</span>(<span class="st">&#39;1&#39;</span>, <span class="st">&#39;2&#39;</span>, <span class="st">&#39;3&#39;</span>)) </span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="section-cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb344-1"><a href="section-data-types-in-r.html#section-cb344-1"></a><span class="kw">as.numeric</span>(<span class="kw">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>)) </span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre><code>## [1] NA NA NA</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="section-getting-started-in-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="section-files-for-loops-and-functions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
